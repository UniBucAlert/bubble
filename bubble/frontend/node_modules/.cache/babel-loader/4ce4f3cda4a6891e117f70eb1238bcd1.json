{"ast":null,"code":"import { useContext, useMemo } from 'react';\nimport merge from 'lodash/merge';\nimport ListContext from './ListContext';\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Mostly used within a <ListContext.Provider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * But you can also use it without a <ListContext.Provider>. In this case, it is up to you\n * to pass all the necessary props (see the list below).\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} ListControllerProps\n * @prop {Object}   data an id-based dictionary of the list data, e.g. { 123: { id: 123, title: 'hello world' }, 456: { ... } }\n * @prop {Array}    ids an array listing the ids of the records in the list, e.g. [123, 456, ...]\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {boolean}  loaded boolean that is false until the data is available\n * @prop {boolean}  loading boolean that is true on mount, and false once the data was fetched\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {Object}   currentSort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort('name', 'ASC')\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {Array}    selectedIds an array listing the ids of the selected rows, e.g. [123, 456]\n * @prop {Function} onSelect callback to change the list of selected rows, e.g. onSelect([456, 789])\n * @prop {Function} onToggleItem callback to toggle the selection of a given record based on its id, e.g. onToggleItem(456)\n * @prop {Function} onUnselectItems callback to clear the selection, e.g. onUnselectItems();\n * @prop {string}   basePath deduced from the location, useful for action buttons\n * @prop {string}   defaultTitle the translated title based on the resource, e.g. 'Posts'\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListControllerProps} list controller props\n *\n * @see useListController for how it is filled\n *\n * @example // custom list view\n *\n * import { useListContext } from 'react-admin';\n *\n * const MyList = () => {\n *     const { data, ids, loaded } = useListContext();\n *     if (!loaded) {\n *         return <>Loading...</>;\n *     }\n *     const records = ids.map(id => data[id]);\n *     return (\n *         <ul>\n *             {records.map(record => (\n *                 <li key={record.id}>{record.name}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n *\n * @example // custom pagination\n *\n * import { useListContext } from 'react-admin';\n * import { Button, Toolbar } from '@material-ui/core';\n * import ChevronLeft from '@material-ui/icons/ChevronLeft';\n * import ChevronRight from '@material-ui/icons/ChevronRight';\n *\n * const PrevNextPagination = () => {\n *     const { page, perPage, total, setPage } = useListContext();\n *     const nbPages = Math.ceil(total / perPage) || 1;\n *     return (\n *         nbPages > 1 &&\n *             <Toolbar>\n *                 {page > 1 &&\n *                     <Button color=\"primary\" key=\"prev\" onClick={() => setPage(page - 1)}>\n *                         <ChevronLeft />\n *                         Prev\n *                     </Button>\n *                 }\n *                 {page !== nbPages &&\n *                     <Button color=\"primary\" key=\"next\" onClick={() => setPage(page + 1)}>\n *                         Next\n *                         <ChevronRight />\n *                     </Button>\n *                 }\n *             </Toolbar>\n *     );\n * }\n */\n\nvar useListContext = function (props) {\n  var context = useContext(ListContext); // Props take precedence over the context\n\n  return useMemo(function () {\n    return merge({}, context, props != null ? extractListContextProps(props) : {});\n  }, [context, props]);\n};\n\nexport default useListContext;\n/**\n * Extract only the list controller props\n *\n * @param {Object} props Props passed to the useListContext hook\n *\n * @returns {ListControllerProps} List controller props\n */\n\nvar extractListContextProps = function (_a) {\n  var basePath = _a.basePath,\n      currentSort = _a.currentSort,\n      data = _a.data,\n      defaultTitle = _a.defaultTitle,\n      displayedFilters = _a.displayedFilters,\n      filterValues = _a.filterValues,\n      hasCreate = _a.hasCreate,\n      hideFilter = _a.hideFilter,\n      ids = _a.ids,\n      loaded = _a.loaded,\n      loading = _a.loading,\n      onSelect = _a.onSelect,\n      onToggleItem = _a.onToggleItem,\n      onUnselectItems = _a.onUnselectItems,\n      page = _a.page,\n      perPage = _a.perPage,\n      resource = _a.resource,\n      selectedIds = _a.selectedIds,\n      setFilters = _a.setFilters,\n      setPage = _a.setPage,\n      setPerPage = _a.setPerPage,\n      setSort = _a.setSort,\n      showFilter = _a.showFilter,\n      total = _a.total;\n  return {\n    basePath: basePath,\n    currentSort: currentSort,\n    data: data,\n    defaultTitle: defaultTitle,\n    displayedFilters: displayedFilters,\n    filterValues: filterValues,\n    hasCreate: hasCreate,\n    hideFilter: hideFilter,\n    ids: ids,\n    loaded: loaded,\n    loading: loading,\n    onSelect: onSelect,\n    onToggleItem: onToggleItem,\n    onUnselectItems: onUnselectItems,\n    page: page,\n    perPage: perPage,\n    resource: resource,\n    selectedIds: selectedIds,\n    setFilters: setFilters,\n    setPage: setPage,\n    setPerPage: setPerPage,\n    setSort: setSort,\n    showFilter: showFilter,\n    total: total\n  };\n};","map":{"version":3,"sources":["/node_modules/ra-core/esm/controller/useListContext.js"],"names":["useContext","useMemo","merge","ListContext","useListContext","props","context","extractListContextProps","_a","basePath","currentSort","data","defaultTitle","displayedFilters","filterValues","hasCreate","hideFilter","ids","loaded","loading","onSelect","onToggleItem","onUnselectItems","page","perPage","resource","selectedIds","setFilters","setPage","setPerPage","setSort","showFilter","total"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,OAArB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,cAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIC,cAAc,GAAG,UAAUC,KAAV,EAAiB;AAClC,MAAIC,OAAO,GAAGN,UAAU,CAACG,WAAD,CAAxB,CADkC,CAElC;;AACA,SAAOF,OAAO,CAAC,YAAY;AACvB,WAAOC,KAAK,CAAC,EAAD,EAAKI,OAAL,EAAcD,KAAK,IAAI,IAAT,GAAgBE,uBAAuB,CAACF,KAAD,CAAvC,GAAiD,EAA/D,CAAZ;AACH,GAFa,EAEX,CAACC,OAAD,EAAUD,KAAV,CAFW,CAAd;AAGH,CAND;;AAOA,eAAeD,cAAf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIG,uBAAuB,GAAG,UAAUC,EAAV,EAAc;AACxC,MAAIC,QAAQ,GAAGD,EAAE,CAACC,QAAlB;AAAA,MAA4BC,WAAW,GAAGF,EAAE,CAACE,WAA7C;AAAA,MAA0DC,IAAI,GAAGH,EAAE,CAACG,IAApE;AAAA,MAA0EC,YAAY,GAAGJ,EAAE,CAACI,YAA5F;AAAA,MAA0GC,gBAAgB,GAAGL,EAAE,CAACK,gBAAhI;AAAA,MAAkJC,YAAY,GAAGN,EAAE,CAACM,YAApK;AAAA,MAAkLC,SAAS,GAAGP,EAAE,CAACO,SAAjM;AAAA,MAA4MC,UAAU,GAAGR,EAAE,CAACQ,UAA5N;AAAA,MAAwOC,GAAG,GAAGT,EAAE,CAACS,GAAjP;AAAA,MAAsPC,MAAM,GAAGV,EAAE,CAACU,MAAlQ;AAAA,MAA0QC,OAAO,GAAGX,EAAE,CAACW,OAAvR;AAAA,MAAgSC,QAAQ,GAAGZ,EAAE,CAACY,QAA9S;AAAA,MAAwTC,YAAY,GAAGb,EAAE,CAACa,YAA1U;AAAA,MAAwVC,eAAe,GAAGd,EAAE,CAACc,eAA7W;AAAA,MAA8XC,IAAI,GAAGf,EAAE,CAACe,IAAxY;AAAA,MAA8YC,OAAO,GAAGhB,EAAE,CAACgB,OAA3Z;AAAA,MAAoaC,QAAQ,GAAGjB,EAAE,CAACiB,QAAlb;AAAA,MAA4bC,WAAW,GAAGlB,EAAE,CAACkB,WAA7c;AAAA,MAA0dC,UAAU,GAAGnB,EAAE,CAACmB,UAA1e;AAAA,MAAsfC,OAAO,GAAGpB,EAAE,CAACoB,OAAngB;AAAA,MAA4gBC,UAAU,GAAGrB,EAAE,CAACqB,UAA5hB;AAAA,MAAwiBC,OAAO,GAAGtB,EAAE,CAACsB,OAArjB;AAAA,MAA8jBC,UAAU,GAAGvB,EAAE,CAACuB,UAA9kB;AAAA,MAA0lBC,KAAK,GAAGxB,EAAE,CAACwB,KAArmB;AACA,SAAQ;AACJvB,IAAAA,QAAQ,EAAEA,QADN;AAEJC,IAAAA,WAAW,EAAEA,WAFT;AAGJC,IAAAA,IAAI,EAAEA,IAHF;AAIJC,IAAAA,YAAY,EAAEA,YAJV;AAKJC,IAAAA,gBAAgB,EAAEA,gBALd;AAMJC,IAAAA,YAAY,EAAEA,YANV;AAOJC,IAAAA,SAAS,EAAEA,SAPP;AAQJC,IAAAA,UAAU,EAAEA,UARR;AASJC,IAAAA,GAAG,EAAEA,GATD;AAUJC,IAAAA,MAAM,EAAEA,MAVJ;AAWJC,IAAAA,OAAO,EAAEA,OAXL;AAYJC,IAAAA,QAAQ,EAAEA,QAZN;AAaJC,IAAAA,YAAY,EAAEA,YAbV;AAcJC,IAAAA,eAAe,EAAEA,eAdb;AAeJC,IAAAA,IAAI,EAAEA,IAfF;AAgBJC,IAAAA,OAAO,EAAEA,OAhBL;AAiBJC,IAAAA,QAAQ,EAAEA,QAjBN;AAkBJC,IAAAA,WAAW,EAAEA,WAlBT;AAmBJC,IAAAA,UAAU,EAAEA,UAnBR;AAoBJC,IAAAA,OAAO,EAAEA,OApBL;AAqBJC,IAAAA,UAAU,EAAEA,UArBR;AAsBJC,IAAAA,OAAO,EAAEA,OAtBL;AAuBJC,IAAAA,UAAU,EAAEA,UAvBR;AAwBJC,IAAAA,KAAK,EAAEA;AAxBH,GAAR;AA0BH,CA5BD","sourcesContent":["import { useContext, useMemo } from 'react';\nimport merge from 'lodash/merge';\nimport ListContext from './ListContext';\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Mostly used within a <ListContext.Provider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * But you can also use it without a <ListContext.Provider>. In this case, it is up to you\n * to pass all the necessary props (see the list below).\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} ListControllerProps\n * @prop {Object}   data an id-based dictionary of the list data, e.g. { 123: { id: 123, title: 'hello world' }, 456: { ... } }\n * @prop {Array}    ids an array listing the ids of the records in the list, e.g. [123, 456, ...]\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {boolean}  loaded boolean that is false until the data is available\n * @prop {boolean}  loading boolean that is true on mount, and false once the data was fetched\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {Object}   currentSort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort('name', 'ASC')\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {Array}    selectedIds an array listing the ids of the selected rows, e.g. [123, 456]\n * @prop {Function} onSelect callback to change the list of selected rows, e.g. onSelect([456, 789])\n * @prop {Function} onToggleItem callback to toggle the selection of a given record based on its id, e.g. onToggleItem(456)\n * @prop {Function} onUnselectItems callback to clear the selection, e.g. onUnselectItems();\n * @prop {string}   basePath deduced from the location, useful for action buttons\n * @prop {string}   defaultTitle the translated title based on the resource, e.g. 'Posts'\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListControllerProps} list controller props\n *\n * @see useListController for how it is filled\n *\n * @example // custom list view\n *\n * import { useListContext } from 'react-admin';\n *\n * const MyList = () => {\n *     const { data, ids, loaded } = useListContext();\n *     if (!loaded) {\n *         return <>Loading...</>;\n *     }\n *     const records = ids.map(id => data[id]);\n *     return (\n *         <ul>\n *             {records.map(record => (\n *                 <li key={record.id}>{record.name}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n *\n * @example // custom pagination\n *\n * import { useListContext } from 'react-admin';\n * import { Button, Toolbar } from '@material-ui/core';\n * import ChevronLeft from '@material-ui/icons/ChevronLeft';\n * import ChevronRight from '@material-ui/icons/ChevronRight';\n *\n * const PrevNextPagination = () => {\n *     const { page, perPage, total, setPage } = useListContext();\n *     const nbPages = Math.ceil(total / perPage) || 1;\n *     return (\n *         nbPages > 1 &&\n *             <Toolbar>\n *                 {page > 1 &&\n *                     <Button color=\"primary\" key=\"prev\" onClick={() => setPage(page - 1)}>\n *                         <ChevronLeft />\n *                         Prev\n *                     </Button>\n *                 }\n *                 {page !== nbPages &&\n *                     <Button color=\"primary\" key=\"next\" onClick={() => setPage(page + 1)}>\n *                         Next\n *                         <ChevronRight />\n *                     </Button>\n *                 }\n *             </Toolbar>\n *     );\n * }\n */\nvar useListContext = function (props) {\n    var context = useContext(ListContext);\n    // Props take precedence over the context\n    return useMemo(function () {\n        return merge({}, context, props != null ? extractListContextProps(props) : {});\n    }, [context, props]);\n};\nexport default useListContext;\n/**\n * Extract only the list controller props\n *\n * @param {Object} props Props passed to the useListContext hook\n *\n * @returns {ListControllerProps} List controller props\n */\nvar extractListContextProps = function (_a) {\n    var basePath = _a.basePath, currentSort = _a.currentSort, data = _a.data, defaultTitle = _a.defaultTitle, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues, hasCreate = _a.hasCreate, hideFilter = _a.hideFilter, ids = _a.ids, loaded = _a.loaded, loading = _a.loading, onSelect = _a.onSelect, onToggleItem = _a.onToggleItem, onUnselectItems = _a.onUnselectItems, page = _a.page, perPage = _a.perPage, resource = _a.resource, selectedIds = _a.selectedIds, setFilters = _a.setFilters, setPage = _a.setPage, setPerPage = _a.setPerPage, setSort = _a.setSort, showFilter = _a.showFilter, total = _a.total;\n    return ({\n        basePath: basePath,\n        currentSort: currentSort,\n        data: data,\n        defaultTitle: defaultTitle,\n        displayedFilters: displayedFilters,\n        filterValues: filterValues,\n        hasCreate: hasCreate,\n        hideFilter: hideFilter,\n        ids: ids,\n        loaded: loaded,\n        loading: loading,\n        onSelect: onSelect,\n        onToggleItem: onToggleItem,\n        onUnselectItems: onUnselectItems,\n        page: page,\n        perPage: perPage,\n        resource: resource,\n        selectedIds: selectedIds,\n        setFilters: setFilters,\n        setPage: setPage,\n        setPerPage: setPerPage,\n        setSort: setSort,\n        showFilter: showFilter,\n        total: total,\n    });\n};\n"]},"metadata":{},"sourceType":"module"}