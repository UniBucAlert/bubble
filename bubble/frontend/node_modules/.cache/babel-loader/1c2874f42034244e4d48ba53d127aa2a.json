{"ast":null,"code":"import * as React from 'react';\nimport { Children, cloneElement, isValidElement, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslate, useGetIdentity } from 'ra-core';\nimport { Tooltip, IconButton, Menu, Button, Avatar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    user: {},\n    userButton: {\n      textTransform: 'none'\n    },\n    avatar: {\n      width: theme.spacing(4),\n      height: theme.spacing(4)\n    }\n  };\n}, {\n  name: 'RaUserMenu'\n});\nvar AnchorOrigin = {\n  vertical: 'bottom',\n  horizontal: 'right'\n};\nvar TransformOrigin = {\n  vertical: 'top',\n  horizontal: 'right'\n};\n\nvar UserMenu = function (props) {\n  var _a = useState(null),\n      anchorEl = _a[0],\n      setAnchorEl = _a[1];\n\n  var translate = useTranslate();\n\n  var _b = useGetIdentity(),\n      loaded = _b.loaded,\n      identity = _b.identity;\n\n  var classes = useStyles(props);\n  var children = props.children,\n      label = props.label,\n      icon = props.icon,\n      logout = props.logout;\n  if (!logout && !children) return null;\n  var open = Boolean(anchorEl);\n\n  var handleMenu = function (event) {\n    return setAnchorEl(event.currentTarget);\n  };\n\n  var handleClose = function () {\n    return setAnchorEl(null);\n  };\n\n  return React.createElement(\"div\", {\n    className: classes.user\n  }, loaded && (identity === null || identity === void 0 ? void 0 : identity.fullName) ? React.createElement(Button, {\n    \"aria-label\": label && translate(label, {\n      _: label\n    }),\n    className: classes.userButton,\n    color: \"inherit\",\n    startIcon: identity.avatar ? React.createElement(Avatar, {\n      className: classes.avatar,\n      src: identity.avatar,\n      alt: identity.fullName\n    }) : icon,\n    onClick: handleMenu\n  }, identity.fullName) : React.createElement(Tooltip, {\n    title: label && translate(label, {\n      _: label\n    })\n  }, React.createElement(IconButton, {\n    \"aria-label\": label && translate(label, {\n      _: label\n    }),\n    \"aria-owns\": open ? 'menu-appbar' : null,\n    \"aria-haspopup\": true,\n    color: \"inherit\",\n    onClick: handleMenu\n  }, icon)), React.createElement(Menu, {\n    id: \"menu-appbar\",\n    disableScrollLock: true,\n    anchorEl: anchorEl,\n    anchorOrigin: AnchorOrigin,\n    transformOrigin: TransformOrigin,\n    // Make sure the menu is display under the button and not over the appbar\n    // See https://material-ui.com/components/menus/#customized-menus\n    getContentAnchorEl: null,\n    open: open,\n    onClose: handleClose\n  }, Children.map(children, function (menuItem) {\n    return isValidElement(menuItem) ? cloneElement(menuItem, {\n      onClick: handleClose\n    }) : null;\n  }), logout));\n};\n\nUserMenu.propTypes = {\n  children: PropTypes.node,\n  label: PropTypes.string.isRequired,\n  logout: PropTypes.element,\n  icon: PropTypes.node\n};\nUserMenu.defaultProps = {\n  label: 'ra.auth.user_menu',\n  icon: React.createElement(AccountCircle, null)\n};\nexport default UserMenu;","map":{"version":3,"sources":["/node_modules/ra-ui-materialui/esm/layout/UserMenu.js"],"names":["React","Children","cloneElement","isValidElement","useState","PropTypes","useTranslate","useGetIdentity","Tooltip","IconButton","Menu","Button","Avatar","makeStyles","AccountCircle","useStyles","theme","user","userButton","textTransform","avatar","width","spacing","height","name","AnchorOrigin","vertical","horizontal","TransformOrigin","UserMenu","props","_a","anchorEl","setAnchorEl","translate","_b","loaded","identity","classes","children","label","icon","logout","open","Boolean","handleMenu","event","currentTarget","handleClose","createElement","className","fullName","_","color","startIcon","src","alt","onClick","title","id","disableScrollLock","anchorOrigin","transformOrigin","getContentAnchorEl","onClose","map","menuItem","propTypes","node","string","isRequired","element","defaultProps"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { Children, cloneElement, isValidElement, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslate, useGetIdentity } from 'ra-core';\nimport { Tooltip, IconButton, Menu, Button, Avatar, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nvar useStyles = makeStyles(function (theme) { return ({\n    user: {},\n    userButton: {\n        textTransform: 'none',\n    },\n    avatar: {\n        width: theme.spacing(4),\n        height: theme.spacing(4),\n    },\n}); }, { name: 'RaUserMenu' });\nvar AnchorOrigin = {\n    vertical: 'bottom',\n    horizontal: 'right',\n};\nvar TransformOrigin = {\n    vertical: 'top',\n    horizontal: 'right',\n};\nvar UserMenu = function (props) {\n    var _a = useState(null), anchorEl = _a[0], setAnchorEl = _a[1];\n    var translate = useTranslate();\n    var _b = useGetIdentity(), loaded = _b.loaded, identity = _b.identity;\n    var classes = useStyles(props);\n    var children = props.children, label = props.label, icon = props.icon, logout = props.logout;\n    if (!logout && !children)\n        return null;\n    var open = Boolean(anchorEl);\n    var handleMenu = function (event) { return setAnchorEl(event.currentTarget); };\n    var handleClose = function () { return setAnchorEl(null); };\n    return (React.createElement(\"div\", { className: classes.user },\n        loaded && (identity === null || identity === void 0 ? void 0 : identity.fullName) ? (React.createElement(Button, { \"aria-label\": label && translate(label, { _: label }), className: classes.userButton, color: \"inherit\", startIcon: identity.avatar ? (React.createElement(Avatar, { className: classes.avatar, src: identity.avatar, alt: identity.fullName })) : (icon), onClick: handleMenu }, identity.fullName)) : (React.createElement(Tooltip, { title: label && translate(label, { _: label }) },\n            React.createElement(IconButton, { \"aria-label\": label && translate(label, { _: label }), \"aria-owns\": open ? 'menu-appbar' : null, \"aria-haspopup\": true, color: \"inherit\", onClick: handleMenu }, icon))),\n        React.createElement(Menu, { id: \"menu-appbar\", disableScrollLock: true, anchorEl: anchorEl, anchorOrigin: AnchorOrigin, transformOrigin: TransformOrigin, \n            // Make sure the menu is display under the button and not over the appbar\n            // See https://material-ui.com/components/menus/#customized-menus\n            getContentAnchorEl: null, open: open, onClose: handleClose },\n            Children.map(children, function (menuItem) {\n                return isValidElement(menuItem)\n                    ? cloneElement(menuItem, {\n                        onClick: handleClose,\n                    })\n                    : null;\n            }),\n            logout)));\n};\nUserMenu.propTypes = {\n    children: PropTypes.node,\n    label: PropTypes.string.isRequired,\n    logout: PropTypes.element,\n    icon: PropTypes.node,\n};\nUserMenu.defaultProps = {\n    label: 'ra.auth.user_menu',\n    icon: React.createElement(AccountCircle, null),\n};\nexport default UserMenu;\n"]},"metadata":{},"sourceType":"module"}