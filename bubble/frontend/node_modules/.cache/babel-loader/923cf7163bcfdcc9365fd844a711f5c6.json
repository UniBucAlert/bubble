{"ast":null,"code":"import * as React from 'react';\nimport { memo } from 'react';\nimport { Button, Menu, MenuItem, Tooltip, IconButton, useMediaQuery } from '@material-ui/core';\nimport SortIcon from '@material-ui/icons/Sort';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport { shallowEqual } from 'react-redux';\nimport { useListSortContext, useTranslate, getFieldLabelTranslationArgs } from 'ra-core';\n/**\n * A button allowing to change the sort field and order.\n *\n * To be used inside a ListContext (e.g. inside a <List> or <ReferenceManyField>)\n *\n * Expects one 'fields' prop, containing an array of field strings that shall\n * be used and displayed for sorting.\n *\n * When users clicks on the <SortButton>, they see a dropdown list with the\n * proposed sorting fields. Once they click on one of these fields, the related\n * list refreshes, re-sorted.\n *\n * @example\n *\n * import * as React from 'react';\n * import { TopToolbar, SortButton, CreateButton, ExportButton } from 'react-admin';\n *\n * const ListActions: FC = props => (\n *     <TopToolbar>\n *         <SortButton fields={['reference', 'sales', 'stock']} />\n *         <CreateButton basePath={props.basePath} />\n *         <ExportButton />\n *     </TopToolbar>\n * );\n */\n\nvar SortButton = function (_a) {\n  var fields = _a.fields,\n      _b = _a.label,\n      label = _b === void 0 ? 'ra.sort.sort_by' : _b,\n      _c = _a.icon,\n      icon = _c === void 0 ? defaultIcon : _c;\n\n  var _d = useListSortContext(),\n      resource = _d.resource,\n      currentSort = _d.currentSort,\n      setSort = _d.setSort;\n\n  var translate = useTranslate();\n  var isXSmall = useMediaQuery(function (theme) {\n    return theme.breakpoints.down('xs');\n  });\n\n  var _e = React.useState(null),\n      anchorEl = _e[0],\n      setAnchorEl = _e[1];\n\n  var handleClick = function (event) {\n    setAnchorEl(event.currentTarget);\n  };\n\n  var handleClose = function () {\n    setAnchorEl(null);\n  };\n\n  var handleChangeSort = function (event) {\n    var field = event.currentTarget.dataset.sort;\n    setSort(field, field === currentSort.field ? inverseOrder(currentSort.order) : 'ASC');\n    setAnchorEl(null);\n  };\n\n  var buttonLabel = translate(label, {\n    field: translate.apply(void 0, getFieldLabelTranslationArgs({\n      resource: resource,\n      source: currentSort.field\n    })),\n    order: translate(\"ra.sort.\" + currentSort.order),\n    _: label\n  });\n  return React.createElement(React.Fragment, null, isXSmall ? React.createElement(Tooltip, {\n    title: buttonLabel\n  }, React.createElement(IconButton, {\n    \"aria-label\": buttonLabel,\n    color: \"primary\",\n    onClick: handleClick\n  }, icon)) : React.createElement(Button, {\n    \"aria-controls\": \"simple-menu\",\n    \"aria-haspopup\": \"true\",\n    color: \"primary\",\n    onClick: handleClick,\n    startIcon: icon,\n    endIcon: React.createElement(ArrowDropDownIcon, null),\n    size: \"small\"\n  }, buttonLabel), React.createElement(Menu, {\n    id: \"simple-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose\n  }, fields.map(function (field) {\n    return React.createElement(MenuItem, {\n      onClick: handleChangeSort,\n      \"data-sort\": field,\n      key: field\n    }, translate.apply(void 0, getFieldLabelTranslationArgs({\n      resource: resource,\n      source: field\n    })), ' ', translate(\"ra.sort.\" + (currentSort.field === field ? inverseOrder(currentSort.order) : 'ASC')));\n  })));\n};\n\nvar defaultIcon = React.createElement(SortIcon, null);\n\nvar inverseOrder = function (sort) {\n  return sort === 'ASC' ? 'DESC' : 'ASC';\n};\n\nvar arePropsEqual = function (prevProps, nextProps) {\n  return shallowEqual(prevProps.fields, nextProps.fields);\n};\n\nexport default memo(SortButton, arePropsEqual);","map":{"version":3,"sources":["/node_modules/ra-ui-materialui/esm/button/SortButton.js"],"names":["React","memo","Button","Menu","MenuItem","Tooltip","IconButton","useMediaQuery","SortIcon","ArrowDropDownIcon","shallowEqual","useListSortContext","useTranslate","getFieldLabelTranslationArgs","SortButton","_a","fields","_b","label","_c","icon","defaultIcon","_d","resource","currentSort","setSort","translate","isXSmall","theme","breakpoints","down","_e","useState","anchorEl","setAnchorEl","handleClick","event","currentTarget","handleClose","handleChangeSort","field","dataset","sort","inverseOrder","order","buttonLabel","apply","source","_","createElement","Fragment","title","color","onClick","startIcon","endIcon","size","id","keepMounted","open","Boolean","onClose","map","key","arePropsEqual","prevProps","nextProps"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { memo } from 'react';\nimport { Button, Menu, MenuItem, Tooltip, IconButton, useMediaQuery, } from '@material-ui/core';\nimport SortIcon from '@material-ui/icons/Sort';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport { shallowEqual } from 'react-redux';\nimport { useListSortContext, useTranslate, getFieldLabelTranslationArgs, } from 'ra-core';\n/**\n * A button allowing to change the sort field and order.\n *\n * To be used inside a ListContext (e.g. inside a <List> or <ReferenceManyField>)\n *\n * Expects one 'fields' prop, containing an array of field strings that shall\n * be used and displayed for sorting.\n *\n * When users clicks on the <SortButton>, they see a dropdown list with the\n * proposed sorting fields. Once they click on one of these fields, the related\n * list refreshes, re-sorted.\n *\n * @example\n *\n * import * as React from 'react';\n * import { TopToolbar, SortButton, CreateButton, ExportButton } from 'react-admin';\n *\n * const ListActions: FC = props => (\n *     <TopToolbar>\n *         <SortButton fields={['reference', 'sales', 'stock']} />\n *         <CreateButton basePath={props.basePath} />\n *         <ExportButton />\n *     </TopToolbar>\n * );\n */\nvar SortButton = function (_a) {\n    var fields = _a.fields, _b = _a.label, label = _b === void 0 ? 'ra.sort.sort_by' : _b, _c = _a.icon, icon = _c === void 0 ? defaultIcon : _c;\n    var _d = useListSortContext(), resource = _d.resource, currentSort = _d.currentSort, setSort = _d.setSort;\n    var translate = useTranslate();\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var _e = React.useState(null), anchorEl = _e[0], setAnchorEl = _e[1];\n    var handleClick = function (event) {\n        setAnchorEl(event.currentTarget);\n    };\n    var handleClose = function () {\n        setAnchorEl(null);\n    };\n    var handleChangeSort = function (event) {\n        var field = event.currentTarget.dataset.sort;\n        setSort(field, field === currentSort.field\n            ? inverseOrder(currentSort.order)\n            : 'ASC');\n        setAnchorEl(null);\n    };\n    var buttonLabel = translate(label, {\n        field: translate.apply(void 0, getFieldLabelTranslationArgs({\n            resource: resource,\n            source: currentSort.field,\n        })),\n        order: translate(\"ra.sort.\" + currentSort.order),\n        _: label,\n    });\n    return (React.createElement(React.Fragment, null,\n        isXSmall ? (React.createElement(Tooltip, { title: buttonLabel },\n            React.createElement(IconButton, { \"aria-label\": buttonLabel, color: \"primary\", onClick: handleClick }, icon))) : (React.createElement(Button, { \"aria-controls\": \"simple-menu\", \"aria-haspopup\": \"true\", color: \"primary\", onClick: handleClick, startIcon: icon, endIcon: React.createElement(ArrowDropDownIcon, null), size: \"small\" }, buttonLabel)),\n        React.createElement(Menu, { id: \"simple-menu\", anchorEl: anchorEl, keepMounted: true, open: Boolean(anchorEl), onClose: handleClose }, fields.map(function (field) { return (React.createElement(MenuItem, { onClick: handleChangeSort, \"data-sort\": field, key: field },\n            translate.apply(void 0, getFieldLabelTranslationArgs({\n                resource: resource,\n                source: field,\n            })),\n            ' ',\n            translate(\"ra.sort.\" + (currentSort.field === field\n                ? inverseOrder(currentSort.order)\n                : 'ASC')))); }))));\n};\nvar defaultIcon = React.createElement(SortIcon, null);\nvar inverseOrder = function (sort) { return (sort === 'ASC' ? 'DESC' : 'ASC'); };\nvar arePropsEqual = function (prevProps, nextProps) {\n    return shallowEqual(prevProps.fields, nextProps.fields);\n};\nexport default memo(SortButton, arePropsEqual);\n"]},"metadata":{},"sourceType":"module"}