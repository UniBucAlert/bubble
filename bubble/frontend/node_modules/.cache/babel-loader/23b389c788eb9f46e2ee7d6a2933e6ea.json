{"ast":null,"code":"import * as React from 'react';\nimport { useEffect } from 'react';\nimport { FormGroupContext } from './FormGroupContext';\nimport { useFormContext } from './useFormContext';\n/**\n * This provider allows its input children to register to a specific group.\n * This enables other components in the group to access group properties such as its\n * validation (valid/invalid) or whether its inputs have been updated (dirty/pristine).\n *\n * @example\n * import { Edit, SimpleForm, TextInput, FormGroupContextProvider, useFormGroup } from 'react-admin';\n * import { Accordion, AccordionDetails, AccordionSummary, Typography } from '@material-ui/core';\n *\n * const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *             <FormGroupContextProvider name=\"options\">\n *                 <Accordion>\n *                     <AccordionSummary\n *                         expandIcon={<ExpandMoreIcon />}\n *                         aria-controls=\"options-content\"\n *                         id=\"options-header\"\n *                     >\n *                         <AccordionSectionTitle name=\"options\">Options</AccordionSectionTitle>\n *                     </AccordionSummary>\n *                     <AccordionDetails id=\"options-content\" aria-labelledby=\"options-header\">\n *                         <TextInput source=\"teaser\" validate={minLength(20)} />\n *                     </AccordionDetails>\n *                 </Accordion>\n *             </FormGroupContextProvider>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * const AccordionSectionTitle = ({ children, name }) => {\n *     const formGroupState = useFormGroup(name);\n *     return (\n *         <Typography color={formGroupState.invalid && formGroupState.dirty ? 'error' : 'inherit'}>\n *             {children}\n *         </Typography>\n *     );\n * }\n *\n * @param props The component props\n * @param {ReactNode} props.children The form group content\n * @param {String} props.name The form group name\n */\n\nexport var FormGroupContextProvider = function (_a) {\n  var children = _a.children,\n      name = _a.name;\n  var formContext = useFormContext();\n  useEffect(function () {\n    if (!formContext || !formContext.registerGroup || !formContext.unregisterGroup) {\n      console.warn(\"The FormGroupContextProvider can only be used inside a FormContext such as provided by the SimpleForm and TabbedForm components\");\n      return;\n    }\n\n    formContext.registerGroup(name);\n    return function () {\n      formContext.unregisterGroup(name);\n    };\n  }, [formContext, name]);\n  return React.createElement(FormGroupContext.Provider, {\n    value: name\n  }, children);\n};","map":{"version":3,"sources":["/node_modules/ra-core/esm/form/FormGroupContextProvider.js"],"names":["React","useEffect","FormGroupContext","useFormContext","FormGroupContextProvider","_a","children","name","formContext","registerGroup","unregisterGroup","console","warn","createElement","Provider","value"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,gBAAT,QAAiC,oBAAjC;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIC,wBAAwB,GAAG,UAAUC,EAAV,EAAc;AAChD,MAAIC,QAAQ,GAAGD,EAAE,CAACC,QAAlB;AAAA,MAA4BC,IAAI,GAAGF,EAAE,CAACE,IAAtC;AACA,MAAIC,WAAW,GAAGL,cAAc,EAAhC;AACAF,EAAAA,SAAS,CAAC,YAAY;AAClB,QAAI,CAACO,WAAD,IACA,CAACA,WAAW,CAACC,aADb,IAEA,CAACD,WAAW,CAACE,eAFjB,EAEkC;AAC9BC,MAAAA,OAAO,CAACC,IAAR,CAAa,iIAAb;AACA;AACH;;AACDJ,IAAAA,WAAW,CAACC,aAAZ,CAA0BF,IAA1B;AACA,WAAO,YAAY;AACfC,MAAAA,WAAW,CAACE,eAAZ,CAA4BH,IAA5B;AACH,KAFD;AAGH,GAXQ,EAWN,CAACC,WAAD,EAAcD,IAAd,CAXM,CAAT;AAYA,SAAQP,KAAK,CAACa,aAAN,CAAoBX,gBAAgB,CAACY,QAArC,EAA+C;AAAEC,IAAAA,KAAK,EAAER;AAAT,GAA/C,EAAgED,QAAhE,CAAR;AACH,CAhBM","sourcesContent":["import * as React from 'react';\nimport { useEffect } from 'react';\nimport { FormGroupContext } from './FormGroupContext';\nimport { useFormContext } from './useFormContext';\n/**\n * This provider allows its input children to register to a specific group.\n * This enables other components in the group to access group properties such as its\n * validation (valid/invalid) or whether its inputs have been updated (dirty/pristine).\n *\n * @example\n * import { Edit, SimpleForm, TextInput, FormGroupContextProvider, useFormGroup } from 'react-admin';\n * import { Accordion, AccordionDetails, AccordionSummary, Typography } from '@material-ui/core';\n *\n * const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *             <FormGroupContextProvider name=\"options\">\n *                 <Accordion>\n *                     <AccordionSummary\n *                         expandIcon={<ExpandMoreIcon />}\n *                         aria-controls=\"options-content\"\n *                         id=\"options-header\"\n *                     >\n *                         <AccordionSectionTitle name=\"options\">Options</AccordionSectionTitle>\n *                     </AccordionSummary>\n *                     <AccordionDetails id=\"options-content\" aria-labelledby=\"options-header\">\n *                         <TextInput source=\"teaser\" validate={minLength(20)} />\n *                     </AccordionDetails>\n *                 </Accordion>\n *             </FormGroupContextProvider>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * const AccordionSectionTitle = ({ children, name }) => {\n *     const formGroupState = useFormGroup(name);\n *     return (\n *         <Typography color={formGroupState.invalid && formGroupState.dirty ? 'error' : 'inherit'}>\n *             {children}\n *         </Typography>\n *     );\n * }\n *\n * @param props The component props\n * @param {ReactNode} props.children The form group content\n * @param {String} props.name The form group name\n */\nexport var FormGroupContextProvider = function (_a) {\n    var children = _a.children, name = _a.name;\n    var formContext = useFormContext();\n    useEffect(function () {\n        if (!formContext ||\n            !formContext.registerGroup ||\n            !formContext.unregisterGroup) {\n            console.warn(\"The FormGroupContextProvider can only be used inside a FormContext such as provided by the SimpleForm and TabbedForm components\");\n            return;\n        }\n        formContext.registerGroup(name);\n        return function () {\n            formContext.unregisterGroup(name);\n        };\n    }, [formContext, name]);\n    return (React.createElement(FormGroupContext.Provider, { value: name }, children));\n};\n"]},"metadata":{},"sourceType":"module"}