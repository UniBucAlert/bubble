{"version":3,"sources":["config/index.js","assets/logo-text-inline.png","utils/auth.ts","views/Home.tsx","views/Login.tsx","views/SignUp.tsx","views/PrivateRoute.tsx","admin/authProvider.ts","admin/Users/UserEdit.tsx","admin/Users/UserList.tsx","admin/Users/UserCreate.tsx","admin/Admin.tsx","redux/features/auth.ts","redux/features/chat.ts","redux/index.ts","utils/users.ts","hooks/useUser.ts","views/components/Profile.tsx","firebase/firebaseUtils.tsx","hooks/useRerender.ts","firebase/Chat.tsx","utils/api.ts","views/components/Friend.tsx","views/components/Search.tsx","views/components/AddButton.tsx","views/components/FriendsHeader.tsx","views/components/FriendsList.tsx","views/ChatView.tsx","Routes.tsx","App.tsx","index.tsx"],"names":["exports","__esModule","FIREBASE_CONFIG","BACKEND_URL","BASE_URL","module","isAuthenticated","permissions","localStorage","getItem","login","email","password","a","length","Error","formData","FormData","append","request","Request","method","body","fetch","response","status","json","data","detail","decodedToken","decodeJwt","setItem","signUp","firstName","lastName","passwordConfirmation","makeStyles","theme","link","color","useStyles","margin","spacing","padding","button","textTransform","marginTop","container","background","minHeight","display","flexDirection","alignItems","justifyContent","fontSize","logo","paddingTop","paddingBottom","width","Login","classes","history","useHistory","useState","setEmail","setPassword","error","setError","handleSubmit","_","push","message","to","className","Paper","src","alt","Grid","item","Person","md","sm","xs","TextField","id","label","type","value","onChange","e","currentTarget","fullWidth","autoFocus","required","Fingerprint","Alert","severity","justify","FormControlLabel","control","Checkbox","Button","disableFocusRipple","disableRipple","variant","onClick","SignUp","setFirstName","setLastName","setPasswordConfirmation","Face","AccountCircle","PrivateRoute","component","rest","render","props","React","createElement","authProvider","username","then","statusText","access_token","logout","removeItem","Promise","resolve","checkError","reject","checkAuth","getPermissions","role","UserEdit","Edit","SimpleForm","TextInput","disabled","source","PasswordInput","BooleanInput","UserList","List","Datagrid","rowClick","EmailField","BooleanField","EditButton","UserCreate","Create","dataProvider","simpleRestProvider","url","options","headers","Headers","Accept","token","set","fetchUtils","fetchJson","Admin","Resource","name","list","edit","create","authSlice","createSlice","initialState","user","reducers","setUser","state","action","payload","auth","reducer","actions","chatSlice","friend","setActiveChat","chat","combineReducers","store","configureStore","useAppDispatch","useDispatch","getUser","useUser","dispatch","useEffect","useSelector","createStyles","modal","paper","backgroundColor","palette","border","boxShadow","shadows","Profile","open","setOpen","Modal","aria-labelledby","aria-describedby","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","first_name","last_name","apiKey","process","REACT_APP_API_KEY","authDomain","REACT_APP_AUTH_DOMAIN","databaseURL","REACT_APP_DATABASE_URL","projectId","REACT_APP_PROJECT_ID","storageBucket","REACT_APP_STORAGE_BUCKET","messagingSenderId","REACT_APP_MESSAGING_SENDER_ID","appId","REACT_APP_APP_ID","firebase","initializeApp","fireDb","firestore","getServerTimestampField","FieldValue","serverTimestamp","Chat","meId","otherId","rerender","set_","useCallback","useRerender","chatId","useMemo","messages","useRef","mostRecentMessage","oldestMessage","setOldestMessage","startNewMessageListener","collection","doc","orderBy","limit","onSnapshot","snapshot","docs","current","timestamp","loadMoreMessages","firstTime","fetchedMessages","startAfter","get","messageArray","map","content","from","console","log","createChat","runTransaction","transaction","exists","warn","newChat","user1Id","user2Id","createdAt","merge","catch","sendMessage","add","listener","setMessage","undefined","style","flex","slice","reverse","isMine","borderRadius","marginBottom","onSubmit","event","preventDefault","gridTemplateColumns","placeholder","target","getFriends","getFriendsOf","getContacts","all","i_friended","friended_me","mutual_friends","filter","some","b","obj","friend_status","friend_requests","concat","res","addFriend","userEmail","removeFriend","height","marginRight","unaccepted","trash","marginLeft","paddingRight","Friend","setFriends","join","ListItemText","primary","IconButton","msg","fl","root","Search","noValidate","autoComplete","friends","friendName","input","document","getElementById","newFriends","pos","search","toLowerCase","indexOf","center","AddButton","infoOpen","setInfoOpen","infoMessage","setInfoMessage","handleClose","handleInfoClose","aria-label","size","emailAddr","err","maxWidth","buttonContainer","FriendsHeader","header","paddingLeft","FriendsList","containerRef","setHeight","getBoundingClientRect","ref","square","elevation","Divider","itemSize","itemCount","itemData","index","ListItem","key","flexGrow","menuButton","separator","appbar","chatWindow","backgroundImage","ChatView","memo","anchorEl","setAnchorEl","openedFriend","Boolean","AppBar","position","Toolbar","aria-controls","aria-haspopup","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","toString","dotenv","createMuiTheme","main","teal","secondary","pink","app","Routes","path","ThemeProvider","App","ReactDOM"],"mappings":"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","file":"static/js/main.c7bcbc09.chunk.js","sourcesContent":["\"use strict\";\nexports.__esModule = true;\nexports.FIREBASE_CONFIG = exports.BACKEND_URL = exports.BASE_URL = void 0;\nexports.BASE_URL = 'http://localhost:8000';\nexports.BACKEND_URL = 'http://localhost:8000/api/v1';\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaMAAACNCAMAAAAtmuU0AAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAArJQTFRFAAAAAN/GANnGANTAANXDANTCANTCANfGANfCANTAANTCANTDANXCANTCANTCANTAANLCANLAANLAANLAANLGANTCANLCANTCANTDANTAANLCANTCANXCANLAANfFANXDANTCANTCANTAANTCANLCANLCANXCANXCANTDAP7+ANTCANLCANLCANTAANrIANLDANLAANfGANTCANLAANXAANTCAP7+ANLCANnZANTDANTCANTAANLCANTAAN/FANTAANLAAP7+AP7MAN3DAOHJANTAANfFANXJANLAANLCANLAANLCANTCANLDANzCAP7+ANLAANXDANTAANXDANTFANXCANXAANTDANnDANTCANTCANTCANfCANTCANTCANLCANXAANfFANTAANLAANfXANXFANTCAP7+ANnDANTAANLAANTAANXDANfCAOTRANTCANTCANXFANTUANTCANTCANLAANTAANnLANTCANzAANLCANTAANTCANTDAOLMANTCAP7GANLAANTCANXCANLCANXFANLDANTCANTAANTAANLCANHRAOTOANTCANTAANLCANXAAP7+ANLDANLAANLAAP7AANTCANTCANTCANTCANLAANLAANTAANLDANTCANLCANLAANTCANLCANTIANfDANTDANLFANLAANLAANXCANXDANTAANLAANTCANXAANTAANLCANTCANzAANTCANnFANTGANTAANTAANXCANTCANXDANLCANTAANLAANLDANrMANXFANTCANXDANfDANLAANnAANXCANLAANTCANTAANTCANTCANTAANTAANTCANLAANXCANTDANTCANXCANXFANfAANXAANnIANLCANLCANLAANLAANTAANTAANLAANTAANLCANLCANTAANTCANXDANrGJLowGgAAAOZ0Uk5TABA/T3+vvzBfj/9vn9/vz+DAgEAg8KCwcNBgkFAVPUTEvLq0rYt0US0EhPbDeilKuBjo7CPTBu4NYv7k9/QfZNcBCR4R8z4iVWyBintLHQNWfodpTTpcWTSa6ZtIFma3XVSk+AxG2wUmnPnxUkkUptEvC/3n6jgaVw6h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\"","import decodeJwt from 'jwt-decode';\n\nexport const isAuthenticated = () => {\n  const permissions = localStorage.getItem('permissions');\n  if (!permissions) {\n    return false;\n  }\n  return permissions === 'user' || permissions === 'admin' ? true : false;\n};\n\n/**\n * Login to backend and store JSON web token on success\n *\n * @param email\n * @param password\n * @returns JSON data containing access token on success\n * @throws Error on http errors or failed attempts\n */\nexport const login = async (email: string, password: string) => {\n  // Assert email or password is not empty\n  if (!(email.length > 0) || !(password.length > 0)) {\n    throw new Error('Email or password was not provided');\n  }\n  const formData = new FormData();\n  // OAuth2 expects form data, not JSON data\n  formData.append('username', email);\n  formData.append('password', password);\n\n  const request = new Request('/api/token', {\n    method: 'POST',\n    body: formData,\n  });\n\n  const response = await fetch(request);\n\n  if (response.status === 500) {\n    throw new Error('Internal server error');\n  }\n\n  const data = await response.json();\n\n  if (response.status > 400 && response.status < 500) {\n    if (data.detail) {\n      throw data.detail;\n    }\n    throw data;\n  }\n\n  if ('access_token' in data) {\n    const decodedToken: any = decodeJwt(data['access_token']);\n    localStorage.setItem('token', data['access_token']);\n    localStorage.setItem('permissions', decodedToken.permissions);\n  }\n\n  return data;\n};\n\n/**\n * Sign up via backend and store JSON web token on success\n *\n * @param email\n * @param password\n * @returns JSON data containing access token on success\n * @throws Error on http errors or failed attempts\n */\nexport const signUp = async (\n  email: string,\n  firstName: string,\n  lastName: string,\n  password: string,\n  passwordConfirmation: string\n) => {\n  // Assert email or password or password confirmation is not empty\n  if (!(email.length > 0)) {\n    throw new Error('Email was not provided');\n  }\n  if (!(password.length > 0)) {\n    throw new Error('Password was not provided');\n  }\n  if (!(passwordConfirmation.length > 0)) {\n    throw new Error('Password confirmation was not provided');\n  }\n\n  const formData = new FormData();\n  // OAuth2 expects form data, not JSON data\n  formData.append('username', email);\n  formData.append('first_name', firstName);\n  formData.append('last_name', lastName);\n  formData.append('password', password);\n\n  const request = new Request('/api/signup', {\n    method: 'POST',\n    body: formData,\n  });\n\n  const response = await fetch(request);\n\n  if (response.status === 500) {\n    throw new Error('Internal server error');\n  }\n\n  const data = await response.json();\n  if (response.status > 400 && response.status < 500) {\n    if (data.detail) {\n      throw data.detail;\n    }\n    throw data;\n  }\n\n  if ('access_token' in data) {\n    const decodedToken: any = decodeJwt(data['access_token']);\n    localStorage.setItem('token', data['access_token']);\n    localStorage.setItem('permissions', decodedToken.permissions);\n  }\n\n  return data;\n};\n\nexport const logout = () => {\n  localStorage.removeItem('token');\n  localStorage.removeItem('permissions');\n};\n","import React, { FC, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { isAuthenticated } from '../utils/auth';\n\n// Pe asta l am lasat aici ca exemplu, cand nu mai avem nevoie de el trebuie sters TODO\nconst useStyles = makeStyles((theme) => ({\n  link: {\n    color: '#61dafb',\n  },\n}));\n\nexport const Home: FC = () => {\n  const [message, setMessage] = useState<string>('');\n  const [error, setError] = useState<string>('');\n  const classes = useStyles();\n\n  // const queryBackend = async () => {\n  //   try {\n  //     const message = await getMessage();\n  //     setMessage(message);\n  //   } catch (err) {\n  //     setError(err);\n  //   }\n  // };\n\n  return (\n    <>\n      {/* {!message && !error && (\n        // <a className={classes.link} href=\"#\" onClick={() => queryBackend()}>\n        //   Click to make request to backend\n        // </a>\n      // )} */}\n      {message && (\n        <p>\n          <code>{message}</code>\n        </p>\n      )}\n      {error && (\n        <p>\n          Error: <code>{error}</code>\n        </p>\n      )}\n      <a className={classes.link} href=\"/admin\">\n        Admin Dashboard\n      </a>\n      {/* <a className={classes.link} href=\"/protected\">\n        Protected Route\n      </a> */}\n      {isAuthenticated() ? (\n        <a className={classes.link} href=\"/logout\">\n          Logout\n        </a>\n      ) : (\n        <>\n          <a className={classes.link} href=\"/login\">\n            Login\n          </a>\n          <a className={classes.link} href=\"/signup\">\n            Sign Up\n          </a>\n        </>\n      )}\n    </>\n  );\n};\n","import React, { FC, useState } from 'react';\nimport {\n  Paper,\n  Grid,\n  TextField,\n  Button,\n  FormControlLabel,\n  Checkbox,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Person, Fingerprint } from '@material-ui/icons';\nimport { Alert } from '@material-ui/lab';\nimport { Redirect } from 'react-router-dom';\nimport { useHistory } from 'react-router';\nimport logo from '../assets/logo-text-inline.png';\n\nimport { login, isAuthenticated } from '../utils/auth';\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(2),\n  },\n  padding: {\n    padding: theme.spacing(1),\n  },\n  button: {\n    textTransform: 'none',\n  },\n  marginTop: {\n    marginTop: 10,\n  },\n  container: {\n    background:\n      'linear-gradient(30deg, rgba(0,23,36,1) 0%, rgba(0,232,220,1) 94%)',\n    minHeight: '100vh',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontSize: 'calc(10px + 2vmin)',\n    color: 'white',\n  },\n  logo: {\n    paddingTop: 20,\n    paddingBottom: 20,\n    width: '100%',\n  },\n}));\n\nexport const Login: FC = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [email, setEmail] = useState<string>('');\n  const [password, setPassword] = useState<string>('');\n  const [error, setError] = useState<string>('');\n\n  const handleSubmit = async (_: React.MouseEvent) => {\n    setError('');\n    try {\n      const data = await login(email, password);\n\n      if (data) {\n        history.push('/');\n      }\n    } catch (err) {\n      if (err instanceof Error) {\n        // handle errors thrown from frontend\n        setError(err.message);\n      } else {\n        // handle errors thrown from backend\n        setError(err);\n      }\n    }\n  };\n\n  return isAuthenticated() ? (\n    <Redirect to=\"/\" />\n  ) : (\n    <div className={classes.container}>\n      <Paper className={classes.padding}>\n        <div className={classes.margin}>\n          <img className={classes.logo} src={logo} alt=\"logo\"></img>\n          <Grid container spacing={3} alignItems=\"flex-end\">\n            <Grid item>\n              <Person />\n            </Grid>\n            <Grid item md={true} sm={true} xs={true}>\n              <TextField\n                id=\"email\"\n                label=\"Email\"\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.currentTarget.value)}\n                fullWidth\n                autoFocus\n                required\n              />\n            </Grid>\n          </Grid>\n          <Grid container spacing={3} alignItems=\"flex-end\">\n            <Grid item>\n              <Fingerprint />\n            </Grid>\n            <Grid item md={true} sm={true} xs={true}>\n              <TextField\n                id=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.currentTarget.value)}\n                fullWidth\n                required\n              />\n            </Grid>\n          </Grid>\n          <br />\n          <Grid container alignItems=\"center\">\n            {error && (\n              <Grid item>\n                <Alert severity=\"error\">{error}</Alert>\n              </Grid>\n            )}\n          </Grid>\n          <Grid container alignItems=\"center\" justify=\"space-between\">\n            <Grid item>\n              <FormControlLabel\n                control={<Checkbox color=\"primary\" />}\n                label=\"Remember me\"\n              />\n            </Grid>\n            <Grid item>\n              <Button\n                disableFocusRipple\n                disableRipple\n                className={classes.button}\n                variant=\"text\"\n                color=\"primary\"\n              >\n                Forgot password ?\n              </Button>\n            </Grid>\n          </Grid>\n          <Grid container justify=\"space-around\" className={classes.marginTop}>\n            {' '}\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              className={classes.button}\n              onClick={() => history.push('/signup')}\n            >\n              Sign Up\n            </Button>{' '}\n            &nbsp;\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.button}\n              onClick={handleSubmit}\n            >\n              Login\n            </Button>\n          </Grid>\n        </div>\n      </Paper>\n    </div>\n  );\n};\n","import React, { FC, useState } from 'react';\nimport { Paper, Grid, TextField, Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AccountCircle, Face, Fingerprint } from '@material-ui/icons';\nimport { Alert } from '@material-ui/lab';\nimport { Redirect } from 'react-router-dom';\nimport { useHistory } from 'react-router';\nimport logo from '../assets/logo-text-inline.png';\n\nimport { signUp, isAuthenticated } from '../utils/auth';\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(2),\n  },\n  padding: {\n    padding: theme.spacing(1),\n  },\n  button: {\n    textTransform: 'none',\n  },\n  marginTop: {\n    marginTop: 10,\n  },\n  container: {\n    background:\n      'linear-gradient(30deg, rgba(0,23,36,1) 0%, rgba(0,232,220,1) 94%)',\n    minHeight: '100vh',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontSize: 'calc(10px + 2vmin)',\n    color: 'white',\n  },\n  logo: {\n    paddingTop: 20,\n    paddingBottom: 20,\n    width: '100%',\n  },\n}));\n\nexport const SignUp: FC = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [email, setEmail] = useState<string>('');\n  const [firstName, setFirstName] = useState<string>('');\n  const [lastName, setLastName] = useState<string>('');\n  const [password, setPassword] = useState<string>('');\n  const [passwordConfirmation, setPasswordConfirmation] = useState<string>('');\n  const [error, setError] = useState<string>('');\n\n  const handleSubmit = async (_: React.MouseEvent) => {\n    // Password confirmation validation\n    if (password !== passwordConfirmation) setError('Passwords do not match');\n    else {\n      setError('');\n      try {\n        const data = await signUp(\n          email,\n          firstName,\n          lastName,\n          password,\n          passwordConfirmation\n        );\n\n        if (data) {\n          history.push('/');\n        }\n      } catch (err) {\n        if (err instanceof Error) {\n          // handle errors thrown from frontend\n          setError(err.message);\n        } else {\n          // handle errors thrown from backend\n          setError(err);\n        }\n      }\n    }\n  };\n\n  return isAuthenticated() ? (\n    <Redirect to=\"/\" />\n  ) : (\n    <div className={classes.container}>\n      <Paper className={classes.padding}>\n        <div className={classes.margin}>\n          <img className={classes.logo} src={logo} alt=\"logo\"></img>\n\n          <Grid container spacing={3} alignItems=\"flex-end\">\n            <Grid item>\n              <Face />\n            </Grid>\n            <Grid item md={true} sm={true} xs={true}>\n              <TextField\n                id=\"email\"\n                label=\"Email\"\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.currentTarget.value)}\n                fullWidth\n                autoFocus\n                required\n              />\n            </Grid>\n          </Grid>\n          <Grid container spacing={3} alignItems=\"flex-end\">\n            <Grid item>\n              <AccountCircle />\n            </Grid>\n            <Grid item md={true} sm={true} xs={true}>\n              <TextField\n                id=\"firstName\"\n                label=\"First Name\"\n                type=\"text\"\n                value={firstName}\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n                  setFirstName(e.currentTarget.value)\n                }\n                fullWidth\n                autoFocus\n                required\n              />\n            </Grid>\n          </Grid>\n          <Grid container spacing={3} alignItems=\"flex-end\">\n            <Grid item>\n              <AccountCircle />\n            </Grid>\n            <Grid item md={true} sm={true} xs={true}>\n              <TextField\n                id=\"lastName\"\n                label=\"Last Name\"\n                type=\"text\"\n                value={lastName}\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n                  setLastName(e.currentTarget.value)\n                }\n                fullWidth\n                autoFocus\n                required\n              />\n            </Grid>\n          </Grid>\n          <Grid container spacing={3} alignItems=\"flex-end\">\n            <Grid item>\n              <Fingerprint />\n            </Grid>\n            <Grid item md={true} sm={true} xs={true}>\n              <TextField\n                id=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.currentTarget.value)}\n                fullWidth\n                required\n              />\n            </Grid>\n          </Grid>\n          <Grid container spacing={3} alignItems=\"flex-end\">\n            <Grid item>\n              <Fingerprint />\n            </Grid>\n            <Grid item md={true} sm={true} xs={true}>\n              <TextField\n                id=\"passwordConfirmation\"\n                label=\"Confirm password\"\n                type=\"password\"\n                value={passwordConfirmation}\n                onChange={(e) => setPasswordConfirmation(e.currentTarget.value)}\n                fullWidth\n                required\n              />\n            </Grid>\n          </Grid>\n          <br />\n          <Grid container alignItems=\"center\">\n            {error && (\n              <Grid item>\n                <Alert severity=\"error\">{error}</Alert>\n              </Grid>\n            )}\n          </Grid>\n          <Grid container justify=\"center\" className={classes.marginTop}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.button}\n              onClick={handleSubmit}\n            >\n              Sign Up\n            </Button>\n          </Grid>\n        </div>\n      </Paper>\n    </div>\n  );\n};\n","import React, { FC } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nimport { isAuthenticated } from '../utils/auth';\n\ntype PrivateRouteType = {\n  component: React.ComponentType<any>;\n  path?: string | string[];\n};\n\nexport const PrivateRoute: FC<PrivateRouteType> = ({\n  component,\n  ...rest\n}: any) => (\n  <Route\n    {...rest}\n    render={(props: any) =>\n      isAuthenticated() === true ? (\n        React.createElement(component, props)\n      ) : (\n        <Redirect to=\"/login\" />\n      )\n    }\n  />\n);\n","import decodeJwt from 'jwt-decode';\n\ntype loginFormType = {\n  username: string;\n  password: string;\n};\n\nconst authProvider = {\n  login: ({ username, password }: loginFormType) => {\n    let formData = new FormData();\n    formData.append('username', username);\n    formData.append('password', password);\n    const request = new Request('/api/token', {\n      method: 'POST',\n      body: formData,\n    });\n    return fetch(request)\n      .then((response) => {\n        if (response.status < 200 || response.status >= 300) {\n          throw new Error(response.statusText);\n        }\n        return response.json();\n      })\n      .then(({ access_token }) => {\n        const decodedToken: any = decodeJwt(access_token);\n        if (decodedToken.permissions !== 'admin') {\n          throw new Error('Forbidden');\n        }\n        localStorage.setItem('token', access_token);\n        localStorage.setItem('permissions', decodedToken.permissions);\n      });\n  },\n  logout: () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('permissions');\n    return Promise.resolve();\n  },\n  checkError: (error: { status: number }) => {\n    const status = error.status;\n    if (status === 401 || status === 403) {\n      localStorage.removeItem('token');\n      return Promise.reject();\n    }\n    return Promise.resolve();\n  },\n  checkAuth: () =>\n    localStorage.getItem('token') ? Promise.resolve() : Promise.reject(),\n  getPermissions: () => {\n    const role = localStorage.getItem('permissions');\n    return role ? Promise.resolve(role) : Promise.reject();\n    // localStorage.getItem('token') ? Promise.resolve() : Promise.reject(),\n  },\n};\n\nexport default authProvider;\n","import React, { FC } from 'react';\nimport {\n  Edit,\n  SimpleForm,\n  TextInput,\n  PasswordInput,\n  BooleanInput,\n} from 'react-admin';\n\nexport const UserEdit: FC = (props) => (\n  <Edit {...props}>\n    <SimpleForm>\n      <TextInput disabled source=\"id\" />\n      <TextInput source=\"email\" />\n      <TextInput source=\"first_name\" />\n      <TextInput source=\"last_name\" />\n      <PasswordInput source=\"password\" />\n      <BooleanInput source=\"is_active\" />\n      <BooleanInput source=\"is_superuser\" />\n    </SimpleForm>\n  </Edit>\n);\n","// in src/users.js\nimport React, { FC } from 'react';\nimport {\n  List,\n  Datagrid,\n  TextField,\n  BooleanField,\n  EmailField,\n  EditButton,\n} from 'react-admin';\n\nexport const UserList: FC = (props) => (\n  <List {...props}>\n    <Datagrid rowClick=\"edit\">\n      <TextField source=\"id\" />\n      <EmailField source=\"email\" />\n      <TextField source=\"first_name\" />\n      <TextField source=\"last_name\" />\n      <BooleanField source=\"is_active\" />\n      <BooleanField source=\"is_superuser\" />\n      <EditButton />\n    </Datagrid>\n  </List>\n);\n","import React, { FC } from 'react';\nimport {\n  Create,\n  SimpleForm,\n  TextInput,\n  PasswordInput,\n  BooleanInput,\n} from 'react-admin';\n\nexport const UserCreate: FC = (props) => (\n  <Create {...props}>\n    <SimpleForm>\n      <TextInput source=\"email\" />\n      <TextInput source=\"first_name\" />\n      <TextInput source=\"last_name\" />\n      <PasswordInput source=\"password\" />\n      <BooleanInput source=\"is_superuser\" />\n      <BooleanInput source=\"is_active\" />\n    </SimpleForm>\n  </Create>\n);\n","import React, { FC } from 'react';\nimport { fetchUtils, Admin as ReactAdmin, Resource } from 'react-admin';\nimport simpleRestProvider from 'ra-data-simple-rest';\nimport authProvider from './authProvider';\n\nimport { UserList, UserEdit, UserCreate } from './Users';\n\nconst httpClient = (url: any, options: any) => {\n  if (!options) {\n    options = {};\n  }\n  if (!options.headers) {\n    options.headers = new Headers({ Accept: 'application/json' });\n  }\n  const token = localStorage.getItem('token');\n  options.headers.set('Authorization', `Bearer ${token}`);\n  return fetchUtils.fetchJson(url, options);\n};\n\nconst dataProvider = simpleRestProvider('api/v1', httpClient);\n\nexport const Admin: FC = () => {\n  return (\n    <ReactAdmin dataProvider={dataProvider} authProvider={authProvider}>\n      {(permissions: 'admin' | 'user') => [\n        permissions === 'admin' ? (\n          <Resource\n            name=\"users\"\n            list={UserList}\n            edit={UserEdit}\n            create={UserCreate}\n          />\n        ) : null,\n      ]}\n    </ReactAdmin>\n  );\n};\n","import { createSlice } from '@reduxjs/toolkit'\n\nexport type User = {\n  id: number\n  email: string\n  first_name: string\n  last_name: string\n}\n\nexport type AuthState = {\n  user: User | null\n}\n\nconst initialState: AuthState = {\n  user: null,\n}\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    setUser: (state, action) => {\n      state.user = action.payload\n    },\n  },\n})\n\nexport const auth = authSlice.reducer\nexport const { setUser } = authSlice.actions\n","import { createSlice } from '@reduxjs/toolkit'\n\nexport type ChatState = {\n  friend: number | null\n}\n\nconst initialState: ChatState = {\n  friend: null,\n}\n\nconst chatSlice = createSlice({\n  name: 'chat',\n  initialState,\n  reducers: {\n    setActiveChat: (state, action) => {\n      state.friend = action.payload\n    },\n  },\n})\n\nexport const chat = chatSlice.reducer\nexport const { setActiveChat } = chatSlice.actions\n","import { combineReducers, configureStore } from '@reduxjs/toolkit'\nimport { useDispatch } from 'react-redux'\nimport { auth } from './features/auth'\nimport { chat } from './features/chat'\n\nconst reducer = combineReducers({\n  auth,\n  chat,\n})\n\n// Main App Store\nexport const store = configureStore({\n  reducer,\n})\n\n// App state, used for typescript\nexport type AppState = ReturnType<typeof reducer>\nexport type AppDispatch = typeof store.dispatch\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\n","import { BACKEND_URL } from '../config';\n\nexport const getUser = async () => {\n\n  const request = new Request(BACKEND_URL + '/users/me', {\n    method: 'GET',\n    headers: {\n      \"Authorization\": \"Bearer \" + localStorage.getItem('token'),\n    },\n  });\n\n  const response = await fetch(request);\n\n  if (response.status === 500) {\n    throw new Error('Internal server error');\n  }\n\n  return response.json();\n};\n","import { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { AppState, useAppDispatch } from '../redux'\nimport { setUser } from '../redux/features/auth'\nimport { getUser } from '../utils/users'\n\nexport const useUser = () => {\n  const dispatch = useAppDispatch()\n\n  useEffect(() => {\n    getUser().then((data) => {\n      dispatch(setUser(data))\n    })\n  }, [])\n\n  return useSelector((state: AppState) => state.auth.user)\n}\n","import React from 'react'\nimport { Grid } from '@material-ui/core'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport Modal from '@material-ui/core/Modal'\nimport Backdrop from '@material-ui/core/Backdrop'\nimport Fade from '@material-ui/core/Fade'\nimport { AccountCircle, Face } from '@material-ui/icons'\nimport { useUser } from '../../hooks/useUser'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    modal: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      border: '2px solid #000',\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2, 4, 3),\n    },\n  }),\n)\n\nexport default function Profile() {\n  const classes = useStyles()\n  const [open, setOpen] = React.useState(false)\n  const user = useUser()\n\n  const handleOpen = () => {\n    setOpen(true)\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  if (!user?.id) {\n    return <div></div>\n  }\n\n  return (\n    <div>\n      <div onClick={handleOpen}>Profile</div>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        onClose={handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open}>\n          <div className={classes.paper}>\n            <h2 id=\"transition-modal-title\">Profile</h2>\n            <p id=\"transition-modal-description\">\n              <Grid container spacing={3} alignItems=\"center\">\n                <Grid item>\n                  <Face />\n                </Grid>\n                <Grid item md={true} sm={true} xs={true}>\n                  {user.email}\n                </Grid>\n              </Grid>\n              <Grid container spacing={3} alignItems=\"center\">\n                <Grid item>\n                  <AccountCircle />\n                </Grid>\n                <Grid item md={true} sm={true} xs={true}>\n                  {user.first_name}\n                </Grid>\n              </Grid>\n              <Grid container spacing={3} alignItems=\"center\">\n                <Grid item>\n                  <AccountCircle />\n                </Grid>\n                <Grid item md={true} sm={true} xs={true}>\n                  {user.last_name}\n                </Grid>\n              </Grid>\n            </p>\n          </div>\n        </Fade>\n      </Modal>\n    </div>\n  )\n}\n","import firebase from \"firebase/app/\";\nimport \"firebase/database/\";\nimport \"firebase/firestore/\";\n\nconst FIREBASE_CONFIG = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID\n};\n\nfirebase.initializeApp(FIREBASE_CONFIG);\n\nexport let fireDb = firebase.firestore();\n\nexport function getServerTimestampField() {\n  return firebase.firestore.FieldValue.serverTimestamp();\n};\n","import React, { useCallback, useState } from 'react'\n\nexport const useRerender = () => {\n  const [_, set_] = useState<any>({})\n\n  return useCallback(() => {\n    set_({})\n  }, [])\n}\n","import { fireDb, getServerTimestampField } from './firebaseUtils'\nimport React, { useEffect, useState, useRef, useMemo } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport { useRerender } from '../hooks/useRerender'\n\nexport type ChatProps = {\n  meId: string\n  otherId: string\n}\n\nconst LOAD_LIMIT = 7\n\nexport type Timestamp = {\n  nanoseconds: number\n  seconds: number\n}\n\nexport type Message = {\n  content: string\n  timestamp: Timestamp\n  from: string\n}\n\nexport const Chat = ({ meId, otherId }: ChatProps) => {\n  const rerender = useRerender()\n\n  const chatId = useMemo(() => (meId < otherId ? `${meId}_${otherId}` : `${otherId}_${meId}`), [meId, otherId])\n\n  const messages = useRef<Message[]>([])\n  const mostRecentMessage = useRef<Message>()\n  const [oldestMessage, setOldestMessage] = useState<Message>()\n\n  const startNewMessageListener = async () => {\n    return fireDb\n      .collection('chats')\n      .doc(chatId)\n      .collection('messages')\n      .orderBy('timestamp', 'desc')\n      .limit(1)\n      .onSnapshot((snapshot) => {\n        if (snapshot.docs.length) {\n          if (!mostRecentMessage.current || snapshot.docs[0].data().timestamp > mostRecentMessage.current.timestamp) {\n            mostRecentMessage.current = snapshot.docs[0].data() as any\n            if (!mostRecentMessage.current) {\n              return\n            }\n            messages.current = [mostRecentMessage.current, ...messages.current]\n            rerender()\n          }\n        }\n      })\n  }\n\n  const loadMoreMessages = async (firstTime: boolean = false): Promise<void> => {\n    let chat = fireDb.collection('chats').doc(chatId)\n    let fetchedMessages: any\n\n    if (firstTime === true || !oldestMessage) {\n      fetchedMessages = chat.collection('messages').orderBy('timestamp', 'desc').limit(LOAD_LIMIT)\n    } else {\n      fetchedMessages = chat.collection('messages').orderBy('timestamp', 'desc').startAfter(oldestMessage).limit(LOAD_LIMIT)\n    }\n\n    return fetchedMessages.get().then((snapshot: any) => {\n      if (snapshot.docs.length) {\n        setOldestMessage(snapshot.docs[snapshot.docs.length - 1])\n        mostRecentMessage.current = snapshot.docs[0].data()\n\n        let messageArray = snapshot.docs.map((doc: any) => {\n          return {\n            content: doc.data().content,\n            timestamp: doc.data().timestamp,\n            from: doc.data().from,\n          }\n        })\n\n        console.log('fetched message array', messageArray)\n\n        messages.current = [...messages.current, ...messageArray]\n        rerender()\n      }\n    })\n  }\n\n  // create a new chat for two users if it doesn't exist;\n  const createChat = async () => {\n    let chat = fireDb.collection('chats').doc(chatId)\n\n    return fireDb\n      .runTransaction(async (transaction) => {\n        return transaction.get(chat).then((data) => {\n          if (data.exists) {\n            console.warn('chat already exists')\n            return\n          }\n\n          let newChat = {\n            user1Id: meId < otherId ? meId : otherId,\n            user2Id: meId > otherId ? meId : otherId,\n            createdAt: getServerTimestampField(),\n          }\n\n          chat.set(newChat, { merge: true })\n        })\n      })\n      .then(() => {\n        console.log('Transaction successfully committed!')\n      })\n      .catch((error) => {\n        console.log('Transaction failed: ', error)\n      })\n  }\n\n  // send message in chat\n  const sendMessage = async (content: string) => {\n    let chat = fireDb.collection('chats').doc(chatId)\n\n    return fireDb\n      .runTransaction(async (transaction) => {\n        return transaction.get(chat).then((data) => {\n          if (!data.exists) {\n            console.warn(\"Chat doesnt't exist!\")\n            return false\n          }\n\n          chat\n            .collection('messages')\n            .add({\n              content: content,\n              from: meId,\n              timestamp: getServerTimestampField(),\n            })\n            .then(() => {\n              console.log(`Added new message!`)\n            })\n        })\n      })\n      .then(() => {\n        console.log('Transaction successfully committed!')\n        return true\n      })\n      .catch((error) => {\n        console.error('Error getting chat ', error)\n        return false\n      })\n  }\n\n  const listener = useRef<any>()\n\n  useEffect(() => {\n    // Reset everything when switching the chat from a user to another\n    setMessage('')\n    messages.current = []\n    mostRecentMessage.current = undefined\n    rerender()\n\n    createChat().then(() => {\n      loadMoreMessages(true).then(() => {\n        startNewMessageListener().then((value) => (listener.current = value))\n      })\n    })\n\n    return () => {\n      listener.current?.()\n    }\n  }, [meId, otherId])\n\n  const [message, setMessage] = useState('')\n\n  return (\n    <div style={{ display: 'flex', flex: 1, flexDirection: 'column', margin: '24px 40px' }}>\n      <div style={{ display: 'flex', flex: 1, flexDirection: 'column' }}>\n        {messages.current\n          .slice()\n          .reverse()\n          .map((message) => {\n            const isMine = message.from === meId\n\n            return (\n              <div style={{ width: '100%', display: 'flex', justifyContent: isMine ? 'flex-end' : 'flex-start' }}>\n                <div\n                  style={{\n                    padding: '8px 12px',\n                    backgroundColor: isMine ? '#8ed4cb' : '#cccccc',\n                    borderRadius: 999,\n                    marginBottom: 16,\n                  }}\n                >\n                  {message.content}\n                </div>\n              </div>\n            )\n          })}\n      </div>\n\n      <form\n        onSubmit={async (event) => {\n          event.preventDefault()\n          try {\n            await sendMessage(message)\n            setMessage('')\n          } catch (e) {\n            console.error(e)\n          }\n        }}\n      >\n        <div style={{ display: 'grid', gridTemplateColumns: 'auto 100px' }}>\n          <TextField\n            id=\"message\"\n            variant=\"filled\"\n            placeholder=\"Type a message\"\n            value={message}\n            onChange={(event) => setMessage(event.target.value)}\n            style={{ width: '100%' }}\n          />\n\n          <Button type=\"submit\">Send</Button>\n        </div>\n      </form>\n    </div>\n  )\n}\n","import { BACKEND_URL } from '../config';\nimport { User } from '../models/User.model';\n\n\nexport const getFriends = async () => {\n  const response = await fetch(BACKEND_URL + \"/friends\", {\n    headers: { 'Authorization': 'Bearer ' + localStorage.getItem('token') }\n  });\n\n  const data = await response.json();\n  console.log(data)\n  if (data) {\n    return data;\n  }\n\n  return Promise.reject('Failed to get message from backend');\n};\n\nexport const getFriendsOf = async () => {\n  const response = await fetch(BACKEND_URL + \"/friends_of\", {\n    headers: { 'Authorization': 'Bearer ' + localStorage.getItem('token') }\n  });\n\n  const data = await response.json();\n  console.log(data)\n  if (data) {\n    return data;\n  }\n\n  return Promise.reject('Failed to get message from backend');\n};\n\n\nexport const getContacts = async () => {\n  // let i_friended = await getFriends()\n  // let friended_me = await getFriendsOf()\n  return Promise.all([getFriends(), getFriendsOf()]).then(([i_friended, friended_me]) => {\n\n\n    let mutual_friends = i_friended.filter((a: any) =>\n      friended_me.some((b: any) => a.id === b.id))\n      .map((obj: any) => ({ ...obj, friend_status: \"mutuals\" }))\n\n    let friend_requests = i_friended.filter((a: any) => !friended_me.some((b: any) => a.id === b.id))\n    .map((obj: any) => ({ ...obj, friend_status: \"i_friended\" }))\n      .concat(\n        (friended_me.filter((a: any) => !i_friended.some((b: any) => a.id === b.id)))\n        .map((obj: any) => ({ ...obj, friend_status: \"friended_me\" }))\n        )\n\n\n    let contacts = mutual_friends.map((obj: any) => ({ ...obj, friend_status: \"mutuals\" })).concat(friend_requests)\n\n    return contacts;\n  }).then((res) => { return res; })\n\n  // console.log(\"i friended\", i_friended)\n\n  // console.log(\"friended me\",friended_me)\n\n\n};\n\nexport const addFriend = async (userEmail: string) => {\n  const response = await fetch(BACKEND_URL + '/friends/' + userEmail, {\n    method: 'POST',\n    headers: { 'Authorization': 'Bearer ' + localStorage.getItem('token') }\n  });\n\n  if (response.status === 200) {\n    return Promise.resolve(\"Friend added succesfully\");\n  }\n\n  return Promise.reject(response.status);\n}\n\nexport const removeFriend = async (userEmail: string) => {\n    const response = await fetch(BACKEND_URL + '/friends/' + userEmail, {\n        method: 'DELETE',\n        headers: { 'Authorization': 'Bearer ' + localStorage.getItem('token') }\n    });\n\n    if (response.status === 200) {\n        return Promise.resolve(\"Friend deleted succesfully\");\n    }\n\n    return Promise.reject(response.status);\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport activeLogo from '../../assets/active.png';\nimport inactiveLogo from '../../assets/inactive.png'\nimport { removeFriend, getContacts } from '../../utils'\n\nimport SentimentVerySatisfiedTwoToneIcon from '@material-ui/icons/SentimentVerySatisfiedTwoTone';\nimport HelpTwoToneIcon from '@material-ui/icons/HelpTwoTone';\nimport FaceIcon from '@material-ui/icons/Face';\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n\n    },\n    logo: {\n        paddingTop: 20,\n        paddingBottom: 20,\n        height: 40,\n        width: 40,\n        marginRight: 7,\n    },\n    request: {\n        color: 'orange'\n    },\n    friend: {\n        color: 'green'\n    }, \n    unaccepted:{\n        color:'gray'\n    },\n    trash: {\n        marginLeft: 0,\n        marginRight: -300,\n        paddingRight: 10,\n    }\n\n}));\n\ninterface Props {\n    email: string,\n    friend_status: string,\n    setFriends: any\n}\n\n\n\nfunction Friend({ email, friend_status, setFriends }: Props) {\n    const classes = useStyles();\n\n    const handleRemove = () => {\n        removeFriend(email).then((msg) => {\n            console.log(msg);\n\n            getContacts().then((fl) => {\n                setFriends(fl)\n            })\n\n        }).catch((msg) => {\n            console.log('Promise rejected ' + msg);\n        });\n    }\n\n    return (\n        <div className={classes.container}>\n            {(() => {\n                if (friend_status == \"mutuals\") {\n                    return (<SentimentVerySatisfiedTwoToneIcon className={[classes.logo, classes.friend].join(\" \")} />)\n                } else if (friend_status == \"friended_me\") {\n                    return (<HelpTwoToneIcon className={[classes.logo, classes.request].join(\" \")} />)\n                } else {\n                    return (<FaceIcon  className={[classes.logo, classes.unaccepted].join(\" \")}/>)\n                }\n\n            })()}\n            <ListItemText primary={`${email}`} />\n            <div className={classes.trash}>\n                <IconButton onClick={handleRemove}>\n                    <DeleteIcon />\n                </IconButton>\n            </div>\n        </div>\n    )\n}\n\nexport default Friend\n","import React from 'react'\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport { getContacts } from '../../utils'\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            '& > *': {\n                margin: theme.spacing(1),\n                width: '90%',\n            },\n        },\n    }),\n);\n\nfunction Search({ setFriends }: any) {\n    const classes = useStyles();\n\n    const handleSearch = () => {\n        getContacts().then((friends) => {\n            let friendName = '';\n            let input = document.getElementById('search-friend');\n            if (input) {\n                friendName = (input as HTMLInputElement).value;\n            }\n\n            let filterFunction = (friend: any) => {\n                if (friendName === '')\n                    return true;\n\n                let pos = friend['email'].search('@');\n                if (pos === -1)\n                    return true;\n                \n                let firendEmail = friend['email'].slice(0, pos);\n                if (firendEmail.toLowerCase().indexOf(friendName.toLowerCase()) !== -1)\n                    return true;\n                return false;\n            }\n\n            const newFriends = friends.filter(filterFunction);\n            setFriends(newFriends);\n        })\n    }\n\n    return (\n        <form className={classes.root} noValidate autoComplete=\"off\">\n            <TextField\n                fullWidth={true}\n                id=\"search-friend\"\n                label=\"Find friend\"\n                onChange={handleSearch}\n            />\n        </form>\n    );\n}\n\nexport default Search\n","import React from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport IconButton from '@material-ui/core/IconButton';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport AddIcon from '@material-ui/icons/Add';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport { addFriend, getContacts } from '../../utils'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        modal: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n        },\n        paper: {\n            backgroundColor: theme.palette.background.paper,\n            border: '2px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n        },\n        input: {\n            '& > *': {\n                margin: theme.spacing(1),\n                width: '90%',\n            },\n        },\n        margin: {\n            margin: theme.spacing(1),\n        },\n        center: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n        }\n    }),\n);\n\nfunction AddButton({ setFriends }: any) {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n    const [infoOpen, setInfoOpen] = React.useState(false);\n    const [infoMessage, setInfoMessage] = React.useState(\"\");\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleInfoClose = () => {\n        setInfoOpen(false);\n    }\n\n    React.useEffect(() => {\n        if (infoMessage !== \"\")\n            setInfoOpen(true);\n    }, [infoMessage]);\n\n    const handleSubmit = () => {\n        let input = document.getElementById(\"add-friend-input\") as HTMLInputElement;\n        let emailAddr = input ? input.value : undefined;\n        if (emailAddr === null || emailAddr === undefined || emailAddr === \"\") \n            return;\n\n        addFriend(emailAddr).then((msg) => {\n            setInfoMessage(msg);\n            handleClose();\n\n            getContacts().then((fl) => {\n                setFriends(fl)\n            })\n\n        }).catch((err) => {\n            console.error(err)\n            let msg = \"You already have that friend\";\n            if (err === 404)\n                msg = \"User not found\";\n            setInfoMessage(msg);\n            handleClose();\n        });\n    };\n\n    return (\n        <div>\n            <IconButton aria-label=\"delete\" onClick={handleOpen}>\n                <PersonAddIcon fontSize=\"large\" />\n            </IconButton>\n\n            <Modal\n                aria-labelledby=\"transition-modal-title\"\n                aria-describedby=\"transition-modal-description\"\n                className={classes.modal}\n                open={open}\n                onClose={handleClose}\n                closeAfterTransition\n                BackdropComponent={Backdrop}\n                BackdropProps={{\n                    timeout: 500,\n                }}\n            >\n                <Fade in={open}>\n                    <div className={classes.paper}>\n                        <form className={classes.input} noValidate autoComplete=\"off\">\n                            <TextField fullWidth={true} id=\"add-friend-input\" label=\"Enter your friend's email\" />\n                        </form>\n                        <Button variant=\"contained\" size=\"medium\" color=\"primary\" className={classes.margin} onClick={handleSubmit}>\n                            <AddIcon></AddIcon>\n                            Add\n                        </Button>\n                        <Button variant=\"contained\" size=\"medium\" color=\"primary\" className={classes.margin} onClick={handleClose}>\n                            <CloseIcon></CloseIcon>\n                            Close\n                        </Button>\n                    </div>\n                </Fade>\n            </Modal>\n\n            <Modal\n                aria-labelledby=\"transition-modal-title\"\n                aria-describedby=\"transition-modal-description\"\n                className={classes.modal}\n                open={infoOpen}\n                onClose={handleInfoClose}\n                closeAfterTransition\n                BackdropComponent={Backdrop}\n                BackdropProps={{\n                    timeout: 500,\n                }}\n            >\n                <Fade in={infoOpen}>\n                    <div className={classes.paper}>\n                        <h2 id=\"info-modal-title\">{infoMessage}</h2>\n                        <div className={classes.center}>\n                            <Button variant=\"contained\" size=\"large\" color=\"primary\" className={classes.margin} onClick={handleInfoClose}>\n                                <CloseIcon></CloseIcon>\n                                Close\n                            </Button>\n                        </div>\n                    </div>\n                </Fade>\n            </Modal>\n        </div>\n    );\n}\n\nexport default AddButton\n","import React from 'react'\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\n\nimport Search from './Search'\nimport AddButton from './AddButton'\nimport FriendsListType from '../ChatView';\n\n// UNUSED -- TODO: CLEANUP\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            width: '100%',\n            height: '130px',\n            maxWidth: 300,\n            backgroundColor: theme.palette.background.paper\n        },\n        buttonContainer: {\n            display: 'flex',\n        }\n    }),\n);\n\nfunction FriendsHeader({ setFriends }: any) {\n    const classes = useStyles();\n\n    return (\n        <>\n            <div className={classes.buttonContainer}>\n            <Search setFriends={setFriends}></Search>\n                <AddButton setFriends={setFriends}></AddButton>\n            </div>\n        </>\n    )\n}\n\nexport default FriendsHeader\n","import React, { useEffect, useRef, useState } from 'react'\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\nimport ListItem from '@material-ui/core/ListItem'\nimport { FixedSizeList, ListChildComponentProps } from 'react-window'\nimport Paper from '@material-ui/core/Paper'\nimport Divider from '@material-ui/core/Divider'\n\nimport Friend from './Friend'\nimport FriendsHeader from './FriendsHeader'\nimport { User } from '../../models/User.model'\nimport Typography from '@material-ui/core/Typography'\nimport { useAppDispatch } from '../../redux'\nimport { setActiveChat } from '../../redux/features/chat'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n      height: '100%',\n    },\n    header: {\n      paddingTop: '10px',\n      paddingLeft: '10px',\n    },\n  }),\n)\n\nexport default function FriendsList({ friends, setFriends }: any) {\n  const classes = useStyles()\n  const containerRef = useRef(document.createElement('div'))\n  const [height, setHeight] = useState(0)\n  const dispatch = useAppDispatch()\n\n  useEffect(() => {\n    setHeight(containerRef.current.getBoundingClientRect().height - 40)\n    console.log(friends)\n  }, [])\n\n  return (\n    <div className={classes.root} ref={containerRef}>\n      <Paper square={true} elevation={3}>\n        <FriendsHeader setFriends={setFriends}></FriendsHeader>\n        <Divider />\n        <FixedSizeList height={height} width=\"100%\" itemSize={70} itemCount={friends.length} itemData={friends}>\n          {({ data, index, style }) => {\n            console.log(data, index)\n            return (\n              <ListItem button style={style} key={index} onClick={() => dispatch(setActiveChat(data[index].id))}>\n                <Friend\n                  // firstName={data[index].firstName}\n                  // lastName={data[index].lastName}\n                  email={data[index].email}\n                  friend_status={data[index].friend_status}\n                  setFriends={setFriends}\n                ></Friend>\n              </ListItem>\n            )\n          }}\n        </FixedSizeList>\n      </Paper>\n    </div>\n  )\n}\n","import React, { FC, useEffect } from 'react'\nimport { useHistory } from 'react-router'\nimport { makeStyles } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport IconButton from '@material-ui/core/IconButton'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Menu from '@material-ui/core/Menu'\nimport { MenuProps } from '@material-ui/core/Menu/Menu'\nimport AccountCircle from '@material-ui/icons/AccountCircle'\nimport Grid from '@material-ui/core/Grid'\n\nimport logo from '../assets/logo-text-inline.png'\n\nimport Profile from './components/Profile'\nimport { getUser } from '../utils/users'\nimport { Chat } from '../firebase/Chat'\nimport FriendsList from './components/FriendsList'\nimport { getContacts, getFriends } from '../utils'\nimport { User } from '../models/User.model'\nimport '../index.css'\n\nimport { useSelector } from 'react-redux'\nimport { AppState, useAppDispatch } from '../redux'\nimport { setActiveChat } from '../redux/features/chat'\nimport { useUser } from '../hooks/useUser'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: '100%',\n    height: '100vh',\n    backgroundColor: 'white',\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  logo: {\n    width: '100px',\n    marginTop: '2px',\n    marginBottom: '2px',\n  },\n  separator: {\n    flexGrow: 1,\n  },\n  appbar: {\n    backgroundColor: '#333333',\n  },\n  chatWindow: {\n    backgroundColor: '#dbe0e5',\n    backgroundImage:\n      'url(' +\n      \"data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23a3b9cf' fill-opacity='0.4' fill-rule='evenodd'/%3E%3C/svg%3E)\",\n  },\n}))\n\ninterface FriendsListType {\n  friends: User[]\n}\n\nexport const ChatView = React.memo(() => {\n  const classes = useStyles()\n  const history = useHistory()\n  const [anchorEl, setAnchorEl] = React.useState(null)\n  const [friends, setFriends] = React.useState([])\n  const dispatch = useAppDispatch()\n\n  const openedFriend = useSelector((state: AppState) => state.chat.friend)\n  const user = useUser()\n\n  const open = Boolean(anchorEl)\n\n  useEffect(() => {\n    getContacts().then((fl) => {\n      setFriends(fl)\n    })\n  }, [])\n\n  const handleMenu = (event: any) => {\n    setAnchorEl(event.currentTarget)\n  }\n\n  const handleClose = () => {\n    setAnchorEl(null)\n  }\n\n  const logout = () => {\n    history.push('/logout')\n  }\n\n  useEffect(() => {\n    dispatch(setActiveChat(null))\n  }, [user?.id])\n\n  if (!user?.id) {\n    return null\n  }\n\n  return (\n    <div className={classes.root}>\n      <AppBar className={classes.appbar} position=\"static\">\n        <Toolbar variant=\"dense\">\n          <img src={logo} className={classes.logo} />\n          <div className={classes.separator}></div>\n          <div>\n            <IconButton\n              aria-label=\"account of current user\"\n              aria-controls=\"menu-appbar\"\n              aria-haspopup=\"true\"\n              onClick={handleMenu}\n              color=\"inherit\"\n            >\n              <AccountCircle />\n            </IconButton>\n            <Menu\n              id=\"menu-appbar\"\n              anchorEl={anchorEl}\n              anchorOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n              keepMounted\n              transformOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n              open={open}\n              onClose={handleClose}\n            >\n              <MenuItem onClick={handleClose}>\n                <Profile></Profile>\n              </MenuItem>\n              <MenuItem onClick={logout}>Log out</MenuItem>\n            </Menu>\n          </div>\n        </Toolbar>\n      </AppBar>\n\n      {/* Layout al aplicatiei */}\n      <Grid container spacing={0} style={{ height: 'calc(100% - 48px)', width: '100%' }} xs={12}>\n        <Grid style={{ height: '100%' }} item xs={2}>\n          <FriendsList friends={friends} setFriends={setFriends}></FriendsList>\n        </Grid>\n\n        <div style={{ display: 'flex', flex: 1 }}>\n          {openedFriend && <Chat meId={user.id.toString()} otherId={openedFriend.toString()} />}\n        </div>\n      </Grid>\n    </div>\n  )\n})\n\nexport default FriendsListType\n","import * as dotenv from 'dotenv';\nimport React, { FC } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { useHistory } from 'react-router';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Login, SignUp, PrivateRoute } from './views';\nimport { Admin } from './admin';\nimport { logout } from './utils/auth';\nimport { ChatView } from './views/ChatView';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport pink from '@material-ui/core/colors/pink';\nimport teal from '@material-ui/core/colors/teal';\n\n\n// Import env variables\ndotenv.config();\n\n// Theming componente Material UI\n// https://material-ui.com/customization/theming/\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: teal[500],\n    },\n    secondary: {\n      main: pink['A400'],\n    },\n    type: 'light',\n  },\n});\n\nconst useStyles = makeStyles((theme) => ({\n  // Styling global custom\n  app: {},\n}));\n\nexport const Routes: FC = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  return (\n    <Switch>\n      <Route path=\"/admin\">\n        <Admin />\n      </Route>\n\n      <ThemeProvider theme={theme}>\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/signup\" component={SignUp} />\n        <Route\n          path=\"/logout\"\n          render={() => {\n            logout();\n            history.push('/');\n            return null;\n          }}\n        />\n        <PrivateRoute  path=\"/\" component={ChatView} /> \n\n        {/* in home e ecranul default din fastapi, TODO: sterge-l */}\n        {/* <Route exact path=\"/\" component={Home} />  */}\n\n      </ThemeProvider>\n    </Switch>\n\n  );\n};\n","import React from 'react'\nimport { Routes } from './Routes'\n\nconst App = () => {\n  return <Routes />\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport './index.css'\nimport App from './App'\nimport { store } from './redux'\nimport { Provider } from 'react-redux'\n\n// atasez tokenul din local storage pe orice request facut!\n// const authInterceptor = axios.interceptors.request.use((config) => {\n//   return config;\n// })\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}