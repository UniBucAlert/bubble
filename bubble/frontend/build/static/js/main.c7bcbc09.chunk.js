(this["webpackJsonpfastapi-react"]=this["webpackJsonpfastapi-react"]||[]).push([[0],{108:function(e,t,a){"use strict";t.__esModule=!0,t.FIREBASE_CONFIG=t.BACKEND_URL=t.BASE_URL=void 0,t.BASE_URL="http://localhost:8000",t.BACKEND_URL="http://localhost:8000/api/v1"},115:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaMAAACNCAMAAAAtmuU0AAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAArJQTFRFAAAAAN/GANnGANTAANXDANTCANTCANfGANfCANTAANTCANTDANXCANTCANTCANTAANLCANLAANLAANLAANLGANTCANLCANTCANTDANTAANLCANTCANXCANLAANfFANXDANTCANTCANTAANTCANLCANLCANXCANXCANTDAP7+ANTCANLCANLCANTAANrIANLDANLAANfGANTCANLAANXAANTCAP7+ANLCANnZANTDANTCANTAANLCANTAAN/FANTAANLAAP7+AP7MAN3DAOHJANTAANfFANXJANLAANLCANLAANLCANTCANLDANzCAP7+ANLAANXDANTAANXDANTFANXCANXAANTDANnDANTCANTCANTCANfCANTCANTCANLCANXAANfFANTAANLAANfXANXFANTCAP7+ANnDANTAANLAANTAANXDANfCAOTRANTCANTCANXFANTUANTCANTCANLAANTAANnLANTCANzAANLCANTAANTCANTDAOLMANTCAP7GANLAANTCANXCANLCANXFANLDANTCANTAANTAANLCANHRAOTOANTCANTAANLCANXAAP7+ANLDANLAANLAAP7AANTCANTCANTCANTCANLAANLAANTAANLDANTCANLCANLAANTCANLCANTIANfDANTDANLFANLAANLAANXCANXDANTAANLAANTCANXAANTAANLCANTCANzAANTCANnFANTGANTAANTAANXCANTCANXDANLCANTAANLAANLDANrMANXFANTCANXDANfDANLAANnAANXCANLAANTCANTAANTCANTCANTAANTAANTCANLAANXCANTDANTCANXCANXFANfAANXAANnIANLCANLCANLAANLAANTAANTAANLAANTAANLCANLCANTAANTCANXDANrGJLowGgAAAOZ0Uk5TABA/T3+vvzBfj/9vn9/vz+DAgEAg8KCwcNBgkFAVPUTEvLq0rYt0US0EhPbDeilKuBjo7CPTBu4NYv7k9/QfZNcBCR4R8z4iVWyBintLHQNWfodpTTpcWTSa6ZtIFma3XVSk+AxG2wUmnPnxUkkUptEvC/3n6jgaVw6h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"},249:function(e,t,a){},380:function(e,t,a){e.exports=a(527)},527:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),i=a(25),s=(a(249),a(299)),l=a(15),u=a(234),m=a(21),d=a(16),f=a.n(d),A=a(32),p=a(132),E=function(){var e=localStorage.getItem("permissions");return!!e&&("user"===e||"admin"===e)},g=function(){var e=Object(A.a)(f.a.mark((function e(t,a){var n,r,c,o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length>0&&a.length>0){e.next=2;break}throw new Error("Email or password was not provided");case 2:return(n=new FormData).append("username",t),n.append("password",a),r=new Request("/api/token",{method:"POST",body:n}),e.next=8,fetch(r);case 8:if(500!==(c=e.sent).status){e.next=11;break}throw new Error("Internal server error");case 11:return e.next=13,c.json();case 13:if(o=e.sent,!(c.status>400&&c.status<500)){e.next=18;break}if(!o.detail){e.next=17;break}throw o.detail;case 17:throw o;case 18:return"access_token"in o&&(i=Object(p.a)(o.access_token),localStorage.setItem("token",o.access_token),localStorage.setItem("permissions",i.permissions)),e.abrupt("return",o);case 20:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(A.a)(f.a.mark((function e(t,a,n,r,c){var o,i,s,l,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length>0){e.next=2;break}throw new Error("Email was not provided");case 2:if(r.length>0){e.next=4;break}throw new Error("Password was not provided");case 4:if(c.length>0){e.next=6;break}throw new Error("Password confirmation was not provided");case 6:return(o=new FormData).append("username",t),o.append("first_name",a),o.append("last_name",n),o.append("password",r),i=new Request("/api/signup",{method:"POST",body:o}),e.next=14,fetch(i);case 14:if(500!==(s=e.sent).status){e.next=17;break}throw new Error("Internal server error");case 17:return e.next=19,s.json();case 19:if(l=e.sent,!(s.status>400&&s.status<500)){e.next=24;break}if(!l.detail){e.next=23;break}throw l.detail;case 23:throw l;case 24:return"access_token"in l&&(u=Object(p.a)(l.access_token),localStorage.setItem("token",l.access_token),localStorage.setItem("permissions",u.permissions)),e.abrupt("return",l);case 26:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),b=(Object(u.a)((function(e){return{link:{color:"#61dafb"}}})),a(352)),h=a(590),v=a(592),T=a(596),O=a(633),C=a(534),w=a(591),x=a(595),j=a(628),k=a(115),S=a.n(k),y=Object(u.a)((function(e){return{margin:{margin:e.spacing(2)},padding:{padding:e.spacing(1)},button:{textTransform:"none"},marginTop:{marginTop:10},container:{background:"linear-gradient(30deg, rgba(0,23,36,1) 0%, rgba(0,232,220,1) 94%)",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"calc(10px + 2vmin)",color:"white"},logo:{paddingTop:20,paddingBottom:20,width:"100%"}}})),P=function(){var e=y(),t=Object(l.g)(),a=Object(n.useState)(""),c=Object(m.a)(a,2),o=c[0],i=c[1],s=Object(n.useState)(""),u=Object(m.a)(s,2),d=u[0],p=u[1],N=Object(n.useState)(""),k=Object(m.a)(N,2),P=k[0],L=k[1],R=function(){var e=Object(A.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(""),e.prev=1,e.next=4,g(o,d);case 4:e.sent&&t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0 instanceof Error?L(e.t0.message):L(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return E()?r.a.createElement(l.a,{to:"/"}):r.a.createElement("div",{className:e.container},r.a.createElement(b.a,{className:e.padding},r.a.createElement("div",{className:e.margin},r.a.createElement("img",{className:e.logo,src:S.a,alt:"logo"}),r.a.createElement(h.a,{container:!0,spacing:3,alignItems:"flex-end"},r.a.createElement(h.a,{item:!0},r.a.createElement(w.a,null)),r.a.createElement(h.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(v.a,{id:"email",label:"Email",type:"email",value:o,onChange:function(e){return i(e.currentTarget.value)},fullWidth:!0,autoFocus:!0,required:!0}))),r.a.createElement(h.a,{container:!0,spacing:3,alignItems:"flex-end"},r.a.createElement(h.a,{item:!0},r.a.createElement(x.a,null)),r.a.createElement(h.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(v.a,{id:"password",label:"Password",type:"password",value:d,onChange:function(e){return p(e.currentTarget.value)},fullWidth:!0,required:!0}))),r.a.createElement("br",null),r.a.createElement(h.a,{container:!0,alignItems:"center"},P&&r.a.createElement(h.a,{item:!0},r.a.createElement(j.a,{severity:"error"},P))),r.a.createElement(h.a,{container:!0,alignItems:"center",justify:"space-between"},r.a.createElement(h.a,{item:!0},r.a.createElement(T.a,{control:r.a.createElement(O.a,{color:"primary"}),label:"Remember me"})),r.a.createElement(h.a,{item:!0},r.a.createElement(C.a,{disableFocusRipple:!0,disableRipple:!0,className:e.button,variant:"text",color:"primary"},"Forgot password ?"))),r.a.createElement(h.a,{container:!0,justify:"space-around",className:e.marginTop}," ",r.a.createElement(C.a,{variant:"outlined",color:"primary",className:e.button,onClick:function(){return t.push("/signup")}},"Sign Up")," ","\xa0",r.a.createElement(C.a,{variant:"contained",color:"primary",className:e.button,onClick:R},"Login")))))},L=a(597),R=a(598),I=Object(u.a)((function(e){return{margin:{margin:e.spacing(2)},padding:{padding:e.spacing(1)},button:{textTransform:"none"},marginTop:{marginTop:10},container:{background:"linear-gradient(30deg, rgba(0,23,36,1) 0%, rgba(0,232,220,1) 94%)",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"calc(10px + 2vmin)",color:"white"},logo:{paddingTop:20,paddingBottom:20,width:"100%"}}})),D=function(){var e=I(),t=Object(l.g)(),a=Object(n.useState)(""),c=Object(m.a)(a,2),o=c[0],i=c[1],s=Object(n.useState)(""),u=Object(m.a)(s,2),d=u[0],p=u[1],g=Object(n.useState)(""),T=Object(m.a)(g,2),O=T[0],w=T[1],k=Object(n.useState)(""),y=Object(m.a)(k,2),P=y[0],D=y[1],B=Object(n.useState)(""),X=Object(m.a)(B,2),F=X[0],z=X[1],W=Object(n.useState)(""),U=Object(m.a)(W,2),q=U[0],H=U[1],K=function(){var e=Object(A.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P===F){e.next=4;break}H("Passwords do not match"),e.next=15;break;case 4:return H(""),e.prev=5,e.next=8,N(o,d,O,P,F);case 8:e.sent&&t.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),e.t0 instanceof Error?H(e.t0.message):H(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return E()?r.a.createElement(l.a,{to:"/"}):r.a.createElement("div",{className:e.container},r.a.createElement(b.a,{className:e.padding},r.a.createElement("div",{className:e.margin},r.a.createElement("img",{className:e.logo,src:S.a,alt:"logo"}),r.a.createElement(h.a,{container:!0,spacing:3,alignItems:"flex-end"},r.a.createElement(h.a,{item:!0},r.a.createElement(L.a,null)),r.a.createElement(h.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(v.a,{id:"email",label:"Email",type:"email",value:o,onChange:function(e){return i(e.currentTarget.value)},fullWidth:!0,autoFocus:!0,required:!0}))),r.a.createElement(h.a,{container:!0,spacing:3,alignItems:"flex-end"},r.a.createElement(h.a,{item:!0},r.a.createElement(R.a,null)),r.a.createElement(h.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(v.a,{id:"firstName",label:"First Name",type:"text",value:d,onChange:function(e){return p(e.currentTarget.value)},fullWidth:!0,autoFocus:!0,required:!0}))),r.a.createElement(h.a,{container:!0,spacing:3,alignItems:"flex-end"},r.a.createElement(h.a,{item:!0},r.a.createElement(R.a,null)),r.a.createElement(h.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(v.a,{id:"lastName",label:"Last Name",type:"text",value:O,onChange:function(e){return w(e.currentTarget.value)},fullWidth:!0,autoFocus:!0,required:!0}))),r.a.createElement(h.a,{container:!0,spacing:3,alignItems:"flex-end"},r.a.createElement(h.a,{item:!0},r.a.createElement(x.a,null)),r.a.createElement(h.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(v.a,{id:"password",label:"Password",type:"password",value:P,onChange:function(e){return D(e.currentTarget.value)},fullWidth:!0,required:!0}))),r.a.createElement(h.a,{container:!0,spacing:3,alignItems:"flex-end"},r.a.createElement(h.a,{item:!0},r.a.createElement(x.a,null)),r.a.createElement(h.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(v.a,{id:"passwordConfirmation",label:"Confirm password",type:"password",value:F,onChange:function(e){return z(e.currentTarget.value)},fullWidth:!0,required:!0}))),r.a.createElement("br",null),r.a.createElement(h.a,{container:!0,alignItems:"center"},q&&r.a.createElement(h.a,{item:!0},r.a.createElement(j.a,{severity:"error"},q))),r.a.createElement(h.a,{container:!0,justify:"center",className:e.marginTop},r.a.createElement(C.a,{variant:"contained",color:"primary",className:e.button,onClick:K},"Sign Up")))))},B=a(348),X=["component"],F=function(e){var t=e.component,a=Object(B.a)(e,X);return r.a.createElement(l.b,Object.assign({},a,{render:function(e){return!0===E()?r.a.createElement(t,e):r.a.createElement(l.a,{to:"/login"})}}))},z=a(111),W=a(623),U=a(620),q=a(328),H={login:function(e){var t=e.username,a=e.password,n=new FormData;n.append("username",t),n.append("password",a);var r=new Request("/api/token",{method:"POST",body:n});return fetch(r).then((function(e){if(e.status<200||e.status>=300)throw new Error(e.statusText);return e.json()})).then((function(e){var t=e.access_token,a=Object(p.a)(t);if("admin"!==a.permissions)throw new Error("Forbidden");localStorage.setItem("token",t),localStorage.setItem("permissions",a.permissions)}))},logout:function(){return localStorage.removeItem("token"),localStorage.removeItem("permissions"),Promise.resolve()},checkError:function(e){var t=e.status;return 401===t||403===t?(localStorage.removeItem("token"),Promise.reject()):Promise.resolve()},checkAuth:function(){return localStorage.getItem("token")?Promise.resolve():Promise.reject()},getPermissions:function(){var e=localStorage.getItem("permissions");return e?Promise.resolve(e):Promise.reject()}},K=a(627),_=a(625),J=a(350),V=a(611),G=a(634),M=function(e){return r.a.createElement(K.a,e,r.a.createElement(_.a,null,r.a.createElement(J.a,{disabled:!0,source:"id"}),r.a.createElement(J.a,{source:"email"}),r.a.createElement(J.a,{source:"first_name"}),r.a.createElement(J.a,{source:"last_name"}),r.a.createElement(V.a,{source:"password"}),r.a.createElement(G.a,{source:"is_active"}),r.a.createElement(G.a,{source:"is_superuser"})))},Y=a(624),Z=a(626),Q=a(615),$=a(637),ee=a(616),te=a(617),ae=function(e){return r.a.createElement(Y.a,e,r.a.createElement(Z.a,{rowClick:"edit"},r.a.createElement(Q.a,{source:"id"}),r.a.createElement($.a,{source:"email"}),r.a.createElement(Q.a,{source:"first_name"}),r.a.createElement(Q.a,{source:"last_name"}),r.a.createElement(ee.a,{source:"is_active"}),r.a.createElement(ee.a,{source:"is_superuser"}),r.a.createElement(te.a,null)))},ne=a(630),re=function(e){return r.a.createElement(ne.a,e,r.a.createElement(_.a,null,r.a.createElement(J.a,{source:"email"}),r.a.createElement(J.a,{source:"first_name"}),r.a.createElement(J.a,{source:"last_name"}),r.a.createElement(V.a,{source:"password"}),r.a.createElement(G.a,{source:"is_superuser"}),r.a.createElement(G.a,{source:"is_active"})))},ce=Object(q.a)("api/v1",(function(e,t){t||(t={}),t.headers||(t.headers=new Headers({Accept:"application/json"}));var a=localStorage.getItem("token");return t.headers.set("Authorization","Bearer ".concat(a)),z.a.fetchJson(e,t)})),oe=function(){return r.a.createElement(W.a,{dataProvider:ce,authProvider:H},(function(e){return["admin"===e?r.a.createElement(U.a,{name:"users",list:ae,edit:M,create:re}):null]}))},ie=a(618),se=a(536),le=a(190),ue=a(614),me=a(347),de=a(182),fe=a.n(de),Ae=a(635),pe=a(631),Ee=a(610),ge=a(538),Ne=a(9),be=a(30),he=a(122),ve=Object(he.b)({name:"auth",initialState:{user:null},reducers:{setUser:function(e,t){e.user=t.payload}}}),Te=ve.reducer,Oe=ve.actions.setUser,Ce=Object(he.b)({name:"chat",initialState:{friend:null},reducers:{setActiveChat:function(e,t){e.friend=t.payload}}}),we=Ce.reducer,xe=Ce.actions.setActiveChat,je=Object(be.b)({auth:Te,chat:we}),ke=Object(he.a)({reducer:je}),Se=function(){return Object(Ne.e)()},ye=a(108),Pe=function(){var e=Object(A.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Request(ye.BACKEND_URL+"/users/me",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),e.next=3,fetch(t);case 3:if(500!==(a=e.sent).status){e.next=6;break}throw new Error("Internal server error");case 6:return e.abrupt("return",a.json());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=Se();return Object(n.useEffect)((function(){Pe().then((function(t){e(Oe(t))}))}),[]),Object(Ne.f)((function(e){return e.auth.user}))},Re=Object(u.a)((function(e){return Object(Ae.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}})}));function Ie(){var e=Re(),t=r.a.useState(!1),a=Object(m.a)(t,2),n=a[0],c=a[1],o=Le();return(null===o||void 0===o?void 0:o.id)?r.a.createElement("div",null,r.a.createElement("div",{onClick:function(){c(!0)}},"Profile"),r.a.createElement(pe.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:n,onClose:function(){c(!1)},closeAfterTransition:!0,BackdropComponent:Ee.a,BackdropProps:{timeout:500}},r.a.createElement(ge.a,{in:n},r.a.createElement("div",{className:e.paper},r.a.createElement("h2",{id:"transition-modal-title"},"Profile"),r.a.createElement("p",{id:"transition-modal-description"},r.a.createElement(h.a,{container:!0,spacing:3,alignItems:"center"},r.a.createElement(h.a,{item:!0},r.a.createElement(L.a,null)),r.a.createElement(h.a,{item:!0,md:!0,sm:!0,xs:!0},o.email)),r.a.createElement(h.a,{container:!0,spacing:3,alignItems:"center"},r.a.createElement(h.a,{item:!0},r.a.createElement(R.a,null)),r.a.createElement(h.a,{item:!0,md:!0,sm:!0,xs:!0},o.first_name)),r.a.createElement(h.a,{container:!0,spacing:3,alignItems:"center"},r.a.createElement(h.a,{item:!0},r.a.createElement(R.a,null)),r.a.createElement(h.a,{item:!0,md:!0,sm:!0,xs:!0},o.last_name))))))):r.a.createElement("div",null)}var De=a(189),Be=a(188),Xe=(a(524),a(528),{apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_AUTH_DOMAIN,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_DATABASE_URL,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_APP_ID});Be.a.initializeApp(Xe);var Fe=Be.a.firestore();function ze(){return Be.a.firestore.FieldValue.serverTimestamp()}var We=function(e){var t=e.meId,a=e.otherId,c=function(){var e=Object(n.useState)({}),t=Object(m.a)(e,2),a=(t[0],t[1]);return Object(n.useCallback)((function(){a({})}),[])}(),o=Object(n.useMemo)((function(){return t<a?"".concat(t,"_").concat(a):"".concat(a,"_").concat(t)}),[t,a]),i=Object(n.useRef)([]),s=Object(n.useRef)(),l=Object(n.useState)(),u=Object(m.a)(l,2),d=u[0],p=u[1],E=function(){var e=Object(A.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fe.collection("chats").doc(o).collection("messages").orderBy("timestamp","desc").limit(1).onSnapshot((function(e){if(e.docs.length&&(!s.current||e.docs[0].data().timestamp>s.current.timestamp)){if(s.current=e.docs[0].data(),!s.current)return;i.current=[s.current].concat(Object(De.a)(i.current)),c()}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(A.a)(f.a.mark((function e(){var t,a,n,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],a=Fe.collection("chats").doc(o),n=!0!==t&&d?a.collection("messages").orderBy("timestamp","desc").startAfter(d).limit(7):a.collection("messages").orderBy("timestamp","desc").limit(7),e.abrupt("return",n.get().then((function(e){if(e.docs.length){p(e.docs[e.docs.length-1]),s.current=e.docs[0].data();var t=e.docs.map((function(e){return{content:e.data().content,timestamp:e.data().timestamp,from:e.data().from}}));console.log("fetched message array",t),i.current=[].concat(Object(De.a)(i.current),Object(De.a)(t)),c()}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(A.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fe.collection("chats").doc(o),e.abrupt("return",Fe.runTransaction(function(){var e=Object(A.a)(f.a.mark((function e(r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.get(n).then((function(e){if(e.exists)console.warn("chat already exists");else{var r={user1Id:t<a?t:a,user2Id:t>a?t:a,createdAt:ze()};n.set(r,{merge:!0})}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){console.log("Transaction successfully committed!")})).catch((function(e){console.log("Transaction failed: ",e)})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(A.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fe.collection("chats").doc(o),e.abrupt("return",Fe.runTransaction(function(){var e=Object(A.a)(f.a.mark((function e(r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.get(n).then((function(e){if(!e.exists)return console.warn("Chat doesnt't exist!"),!1;n.collection("messages").add({content:a,from:t,timestamp:ze()}).then((function(){console.log("Added new message!")}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){return console.log("Transaction successfully committed!"),!0})).catch((function(e){return console.error("Error getting chat ",e),!1})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=Object(n.useRef)();Object(n.useEffect)((function(){return x(""),i.current=[],s.current=void 0,c(),N().then((function(){g(!0).then((function(){E().then((function(e){return h.current=e}))}))})),function(){var e;null===(e=h.current)||void 0===e||e.call(h)}}),[t,a]);var T=Object(n.useState)(""),O=Object(m.a)(T,2),w=O[0],x=O[1];return r.a.createElement("div",{style:{display:"flex",flex:1,flexDirection:"column",margin:"24px 40px"}},r.a.createElement("div",{style:{display:"flex",flex:1,flexDirection:"column"}},i.current.slice().reverse().map((function(e){var a=e.from===t;return r.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:a?"flex-end":"flex-start"}},r.a.createElement("div",{style:{padding:"8px 12px",backgroundColor:a?"#8ed4cb":"#cccccc",borderRadius:999,marginBottom:16}},e.content))}))),r.a.createElement("form",{onSubmit:function(){var e=Object(A.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,b(w);case 4:x(""),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"auto 100px"}},r.a.createElement(v.a,{id:"message",variant:"filled",placeholder:"Type a message",value:w,onChange:function(e){return x(e.target.value)},style:{width:"100%"}}),r.a.createElement(C.a,{type:"submit"},"Send"))))},Ue=a(540),qe=a(349),He=a(622),Ke=a(621),_e=a(76),Je=a.n(_e),Ve=a(85),Ge=function(){var e=Object(A.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ye.BACKEND_URL+"/friends",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,console.log(a),!a){e.next=9;break}return e.abrupt("return",a);case 9:return e.abrupt("return",Promise.reject("Failed to get message from backend"));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=Object(A.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ye.BACKEND_URL+"/friends_of",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,console.log(a),!a){e.next=9;break}return e.abrupt("return",a);case 9:return e.abrupt("return",Promise.reject("Failed to get message from backend"));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(A.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([Ge(),Me()]).then((function(e){var t=Object(m.a)(e,2),a=t[0],n=t[1],r=a.filter((function(e){return n.some((function(t){return e.id===t.id}))})).map((function(e){return Object(Ve.a)(Object(Ve.a)({},e),{},{friend_status:"mutuals"})})),c=a.filter((function(e){return!n.some((function(t){return e.id===t.id}))})).map((function(e){return Object(Ve.a)(Object(Ve.a)({},e),{},{friend_status:"i_friended"})})).concat(n.filter((function(e){return!a.some((function(t){return e.id===t.id}))})).map((function(e){return Object(Ve.a)(Object(Ve.a)({},e),{},{friend_status:"friended_me"})})));return r.map((function(e){return Object(Ve.a)(Object(Ve.a)({},e),{},{friend_status:"mutuals"})})).concat(c)})).then((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(A.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ye.BACKEND_URL+"/friends/"+t,{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:if(200!==(a=e.sent).status){e.next=5;break}return e.abrupt("return",Promise.resolve("Friend added succesfully"));case 5:return e.abrupt("return",Promise.reject(a.status));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(A.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ye.BACKEND_URL+"/friends/"+t,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:if(200!==(a=e.sent).status){e.next=5;break}return e.abrupt("return",Promise.resolve("Friend deleted succesfully"));case 5:return e.abrupt("return",Promise.reject(a.status));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e=a(340),et=a.n($e),tt=a(341),at=a.n(tt),nt=a(342),rt=a.n(nt),ct=Object(u.a)((function(e){return{container:{display:"flex",flexDirection:"row",alignItems:"center"},logo:{paddingTop:20,paddingBottom:20,height:40,width:40,marginRight:7},request:{color:"orange"},friend:{color:"green"},unaccepted:{color:"gray"},trash:{marginLeft:0,marginRight:-300,paddingRight:10}}}));var ot=function(e){var t=e.email,a=e.friend_status,n=e.setFriends,c=ct();return r.a.createElement("div",{className:c.container},"mutuals"==a?r.a.createElement(et.a,{className:[c.logo,c.friend].join(" ")}):"friended_me"==a?r.a.createElement(at.a,{className:[c.logo,c.request].join(" ")}):r.a.createElement(rt.a,{className:[c.logo,c.unaccepted].join(" ")}),r.a.createElement(Ke.a,{primary:"".concat(t)}),r.a.createElement("div",{className:c.trash},r.a.createElement(le.a,{onClick:function(){Qe(t).then((function(e){console.log(e),Ye().then((function(e){n(e)}))})).catch((function(e){console.log("Promise rejected "+e)}))}},r.a.createElement(Je.a,null))))},it=Object(u.a)((function(e){return Object(Ae.a)({root:{"& > *":{margin:e.spacing(1),width:"90%"}}})}));var st=function(e){var t=e.setFriends,a=it();return r.a.createElement("form",{className:a.root,noValidate:!0,autoComplete:"off"},r.a.createElement(v.a,{fullWidth:!0,id:"search-friend",label:"Find friend",onChange:function(){Ye().then((function(e){var a="",n=document.getElementById("search-friend");n&&(a=n.value);var r=e.filter((function(e){if(""===a)return!0;var t=e.email.search("@");return-1===t||-1!==e.email.slice(0,t).toLowerCase().indexOf(a.toLowerCase())}));t(r)}))}}))},lt=a(343),ut=a.n(lt),mt=a(179),dt=a.n(mt),ft=a(135),At=a.n(ft),pt=Object(u.a)((function(e){return Object(Ae.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},input:{"& > *":{margin:e.spacing(1),width:"90%"}},margin:{margin:e.spacing(1)},center:{display:"flex",alignItems:"center",justifyContent:"center"}})}));var Et=function(e){var t=e.setFriends,a=pt(),n=r.a.useState(!1),c=Object(m.a)(n,2),o=c[0],i=c[1],s=r.a.useState(!1),l=Object(m.a)(s,2),u=l[0],d=l[1],f=r.a.useState(""),A=Object(m.a)(f,2),p=A[0],E=A[1],g=function(){i(!1)},N=function(){d(!1)};return r.a.useEffect((function(){""!==p&&d(!0)}),[p]),r.a.createElement("div",null,r.a.createElement(le.a,{"aria-label":"delete",onClick:function(){i(!0)}},r.a.createElement(ut.a,{fontSize:"large"})),r.a.createElement(pe.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:a.modal,open:o,onClose:g,closeAfterTransition:!0,BackdropComponent:Ee.a,BackdropProps:{timeout:500}},r.a.createElement(ge.a,{in:o},r.a.createElement("div",{className:a.paper},r.a.createElement("form",{className:a.input,noValidate:!0,autoComplete:"off"},r.a.createElement(v.a,{fullWidth:!0,id:"add-friend-input",label:"Enter your friend's email"})),r.a.createElement(C.a,{variant:"contained",size:"medium",color:"primary",className:a.margin,onClick:function(){var e=document.getElementById("add-friend-input"),a=e?e.value:void 0;null!==a&&void 0!==a&&""!==a&&Ze(a).then((function(e){E(e),g(),Ye().then((function(e){t(e)}))})).catch((function(e){console.error(e);var t="You already have that friend";404===e&&(t="User not found"),E(t),g()}))}},r.a.createElement(dt.a,null),"Add"),r.a.createElement(C.a,{variant:"contained",size:"medium",color:"primary",className:a.margin,onClick:g},r.a.createElement(At.a,null),"Close")))),r.a.createElement(pe.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:a.modal,open:u,onClose:N,closeAfterTransition:!0,BackdropComponent:Ee.a,BackdropProps:{timeout:500}},r.a.createElement(ge.a,{in:u},r.a.createElement("div",{className:a.paper},r.a.createElement("h2",{id:"info-modal-title"},p),r.a.createElement("div",{className:a.center},r.a.createElement(C.a,{variant:"contained",size:"large",color:"primary",className:a.margin,onClick:N},r.a.createElement(At.a,null),"Close"))))))},gt=Object(u.a)((function(e){return Object(Ae.a)({root:{width:"100%",height:"130px",maxWidth:300,backgroundColor:e.palette.background.paper},buttonContainer:{display:"flex"}})}));var Nt=function(e){var t=e.setFriends,a=gt();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.buttonContainer},r.a.createElement(st,{setFriends:t}),r.a.createElement(Et,{setFriends:t})))},bt=Object(u.a)((function(e){return Object(Ae.a)({root:{width:"100%",height:"100%"},header:{paddingTop:"10px",paddingLeft:"10px"}})}));function ht(e){var t=e.friends,a=e.setFriends,c=bt(),o=Object(n.useRef)(document.createElement("div")),i=Object(n.useState)(0),s=Object(m.a)(i,2),l=s[0],u=s[1],d=Se();return Object(n.useEffect)((function(){u(o.current.getBoundingClientRect().height-40),console.log(t)}),[]),r.a.createElement("div",{className:c.root,ref:o},r.a.createElement(b.a,{square:!0,elevation:3},r.a.createElement(Nt,{setFriends:a}),r.a.createElement(He.a,null),r.a.createElement(qe.a,{height:l,width:"100%",itemSize:70,itemCount:t.length,itemData:t},(function(e){var t=e.data,n=e.index,c=e.style;return console.log(t,n),r.a.createElement(Ue.a,{button:!0,style:c,key:n,onClick:function(){return d(xe(t[n].id))}},r.a.createElement(ot,{email:t[n].email,friend_status:t[n].friend_status,setFriends:a}))}))))}var vt=Object(u.a)((function(e){return{root:{flexGrow:1,width:"100%",height:"100vh",backgroundColor:"white"},menuButton:{marginRight:e.spacing(2)},logo:{width:"100px",marginTop:"2px",marginBottom:"2px"},separator:{flexGrow:1},appbar:{backgroundColor:"#333333"},chatWindow:{backgroundColor:"#dbe0e5",backgroundImage:"url(data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23a3b9cf' fill-opacity='0.4' fill-rule='evenodd'/%3E%3C/svg%3E)"}}})),Tt=r.a.memo((function(){var e=vt(),t=Object(l.g)(),a=r.a.useState(null),c=Object(m.a)(a,2),o=c[0],i=c[1],s=r.a.useState([]),u=Object(m.a)(s,2),d=u[0],f=u[1],A=Se(),p=Object(Ne.f)((function(e){return e.chat.friend})),E=Le(),g=Boolean(o);Object(n.useEffect)((function(){Ye().then((function(e){f(e)}))}),[]);var N=function(){i(null)};return Object(n.useEffect)((function(){A(xe(null))}),[null===E||void 0===E?void 0:E.id]),(null===E||void 0===E?void 0:E.id)?r.a.createElement("div",{className:e.root},r.a.createElement(ie.a,{className:e.appbar,position:"static"},r.a.createElement(se.a,{variant:"dense"},r.a.createElement("img",{src:S.a,className:e.logo}),r.a.createElement("div",{className:e.separator}),r.a.createElement("div",null,r.a.createElement(le.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit"},r.a.createElement(fe.a,null)),r.a.createElement(me.a,{id:"menu-appbar",anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:g,onClose:N},r.a.createElement(ue.a,{onClick:N},r.a.createElement(Ie,null)),r.a.createElement(ue.a,{onClick:function(){t.push("/logout")}},"Log out"))))),r.a.createElement(h.a,{container:!0,spacing:0,style:{height:"calc(100% - 48px)",width:"100%"},xs:12},r.a.createElement(h.a,{style:{height:"100%"},item:!0,xs:2},r.a.createElement(ht,{friends:d,setFriends:f})),r.a.createElement("div",{style:{display:"flex",flex:1}},p&&r.a.createElement(We,{meId:E.id.toString(),otherId:p.toString()})))):null})),Ot=a(346),Ct=a(619),wt=a(345),xt=a.n(wt),jt=a(344),kt=a.n(jt);s.config();var St=Object(Ot.a)({palette:{primary:{main:kt.a[500]},secondary:{main:xt.a.A400},type:"light"}}),yt=Object(u.a)((function(e){return{app:{}}})),Pt=function(){yt();var e=Object(l.g)();return r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/admin"},r.a.createElement(oe,null)),r.a.createElement(Ct.a,{theme:St},r.a.createElement(l.b,{path:"/login",component:P}),r.a.createElement(l.b,{path:"/signup",component:D}),r.a.createElement(l.b,{path:"/logout",render:function(){return localStorage.removeItem("token"),localStorage.removeItem("permissions"),e.push("/"),null}}),r.a.createElement(F,{path:"/",component:Tt})))},Lt=function(){return r.a.createElement(Pt,null)};o.a.render(r.a.createElement(Ne.a,{store:ke},r.a.createElement(i.a,null,r.a.createElement(Lt,null))),document.getElementById("root"))}},[[380,1,2]]]);
//# sourceMappingURL=main.c7bcbc09.chunk.js.map